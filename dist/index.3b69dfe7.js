function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},s=t.parcelRequireafd0;null==s&&((s=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var s={id:e,exports:{}};return n[e]=s,t.call(s.exports,s,s.exports),s.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){r[e]=t},t.parcelRequireafd0=s),s.register("7coGQ",(function(t,n){e(t.exports,"loadCuriosity",(()=>h)),e(t.exports,"loadStaubli",(()=>p)),e(t.exports,"loadATHLETE",(()=>f)),e(t.exports,"loadRobonaut",(()=>d));var r=s("8C12l"),o=s("4CEV9"),i=s("8FOWU"),a=s("ilwiq");s("lOFtY");var c=s("crxIg"),l=s("6yEsn");function u(e){function t(e){e.color.convertSRGBToLinear(),e.map&&(e.map.encoding=a.sRGBEncoding)}e.traverse((e=>{if(e.material){const n=e.material;Array.isArray(n)?n.forEach(t):t(n)}}))}function h(){return new Promise(((e,t)=>{const n=new c.XacroLoader;n.rospackCommands={find:e=>"curiosity_mars_rover_description"===e?"https://raw.githubusercontent.com/gkjohnson/curiosity_mars_rover-mirror/master/curiosity_mars_rover_description/":e},n.load("https://raw.githubusercontent.com/gkjohnson/curiosity_mars_rover-mirror/master/curiosity_mars_rover_description/urdf/curiosity_mars_rover.xacro",(t=>{let n,s,i;const c=new a.LoadingManager;c.onLoad=()=>{const t=[];s.traverse((e=>{(e.isLight||e.isLineSegments)&&t.push(e)})),t.forEach((e=>{e.parent.remove(e)})),u(s),e({ik:n,urdf:s,goalMap:i,helperScale:.3})};const h=new r.default(c);h.packages={curiosity_mars_rover_description:"https://raw.githubusercontent.com/gkjohnson/curiosity_mars_rover-mirror/master/curiosity_mars_rover_description/"},s=h.parse(t),s.joints.arm_03_joint.limit.upper=3*Math.PI/2,n=o.urdfRobotToIKRoot(s),n.clearDoF(),l.quat.fromEuler(n.quaternion,-90,0,0),n.position[1]-=.5,n.setMatrixNeedsUpdate(),s.setJointValue("arm_02_joint",-Math.PI/2),s.setJointValue("arm_03_joint",Math.PI),s.setJointValue("arm_04_joint",Math.PI),o.setIKFromUrdf(n,s),i=new Map;const p=n.find((e=>"arm_tools"===e.name)),f=s.links.arm_tools,d=new o.Joint;d.name=f.name,d.makeClosure(p),p.getWorldPosition(d.position),p.getWorldQuaternion(d.quaternion),d.setMatrixNeedsUpdate(),i.set(d,p)}),t)}))}function p(){return new Promise(((e,t)=>{const n=new c.XacroLoader;n.rospackCommands={find(e){switch(e){case"staubli_resources":return"https://raw.githubusercontent.com/ros-industrial/staubli/indigo-devel/staubli_resources/";case"staubli_tx2_90_support":return"https://raw.githubusercontent.com/ros-industrial/staubli_experimental/ce422fe0a54232d73cf44e2571fc7abc2f5ff9f6/staubli_tx2_90_support/";default:return e}}},n.load("https://raw.githubusercontent.com/ros-industrial/staubli_experimental/ce422fe0a54232d73cf44e2571fc7abc2f5ff9f6/staubli_tx2_90_support/urdf/tx2_90.xacro",(t=>{let n,s,i;const c=new a.LoadingManager;c.onLoad=()=>{e({ik:n,urdf:s,goalMap:i,helperScale:.3})};const u=new r.default(c);u.packages={staubli_tx2_90_support:"https://raw.githubusercontent.com/ros-industrial/staubli_experimental/ce422fe0a54232d73cf44e2571fc7abc2f5ff9f6/staubli_tx2_90_support/"},s=u.parse(t),n=o.urdfRobotToIKRoot(s),n.clearDoF(),l.quat.fromEuler(n.quaternion,-90,0,0),n.position[1]-=.5,n.setMatrixNeedsUpdate(),s.setJointValue("joint_2",Math.PI/4),s.setJointValue("joint_3",Math.PI/2),s.setJointValue("joint_5",-Math.PI/4),o.setIKFromUrdf(n,s),i=new Map;const h=n.find((e=>"tool0"===e.name)),p=s.links.tool0,f=new o.Joint;f.name=p.name,f.makeClosure(h),h.getWorldPosition(f.position),h.getWorldQuaternion(f.quaternion),f.setMatrixNeedsUpdate(),i.set(f,h)}),t)}))}function f(){return new Promise(((e,t)=>{let n,s,i;const c=new a.LoadingManager;c.onLoad=()=>{e({ik:n,urdf:s,goalMap:i})};new r.default(c).load("https://raw.githubusercontent.com/gkjohnson/urdf-loaders/master/urdf/T12/urdf/T12_flipped.URDF",(e=>{s=e,n=o.urdfRobotToIKRoot(s);const t=Math.PI/180;s.rotation.set(Math.PI/2,0,0);for(let e=1;e<=6;e++)s.joints[`HP${e}`].setJointValue(30*t),s.joints[`KP${e}`].setJointValue(90*t),s.joints[`AP${e}`].setJointValue(-30*t);o.setIKFromUrdf(n,s),i=new Map,n.traverse((e=>{if(e.isJoint)e.dofRestPose.set(e.dofValues),e.restPoseSet=!0;else if(/^Foot/.test(e.name)){const t=s.links[e.name],n=new o.Joint;n.name=t.name,n.makeClosure(e),e.getWorldPosition(n.position),e.getWorldQuaternion(n.quaternion),n.setMatrixNeedsUpdate(),i.set(n,e)}}))}),null,t)}))}function d(){return new Promise(((e,t)=>{let n,s,c;const l=new a.LoadingManager;l.onLoad=()=>{u(n),e({ik:s,urdf:n,goalMap:c,helperScale:.2})};const h=new r.default(l);h.packages={r2_description:"https://raw.githubusercontent.com/gkjohnson/nasa-urdf-robots/master/r2_description"},h.load("https://raw.githubusercontent.com/gkjohnson/nasa-urdf-robots/master/r2_description/robots/r2b.urdf",(e=>{n=e,n.rotation.set(-Math.PI/2,0,0),s=o.urdfRobotToIKRoot(n),n.joints["r2/left_leg/joint3"].setJointValue(60*i.DEG2RAD),n.joints["r2/left_leg/joint5"].setJointValue(60*i.DEG2RAD),n.joints["r2/left_arm/joint1"].setJointValue(-80*i.DEG2RAD),n.joints["r2/left_arm/joint2"].setJointValue(-100*i.DEG2RAD),n.joints["r2/left_arm/joint3"].setJointValue(-90*i.DEG2RAD),n.joints["r2/left_arm/joint4"].setJointValue(90*i.DEG2RAD),n.joints["r2/right_leg/joint3"].setJointValue(60*i.DEG2RAD),n.joints["r2/right_leg/joint5"].setJointValue(60*i.DEG2RAD),n.joints["r2/right_arm/joint1"].setJointValue(-80*i.DEG2RAD),n.joints["r2/right_arm/joint2"].setJointValue(100*i.DEG2RAD),n.joints["r2/right_arm/joint3"].setJointValue(-90*i.DEG2RAD),n.joints["r2/right_arm/joint4"].setJointValue(-90*i.DEG2RAD),o.setIKFromUrdf(s,n),c=new Map,s.traverse((e=>{if(e.isJoint)e.dofRestPose.set(e.dofValues),e.restPoseSet=!0;else if("r2/left_leg_foot"===e.name||"r2/right_leg_foot"===e.name){const t=n.links[e.name],r=new o.Joint;r.name=t.name,r.makeClosure(e),e.getWorldPosition(r.position),e.getWorldQuaternion(r.quaternion),r.setMatrixNeedsUpdate(),c.set(r,e)}}))}),null,t)}))}})),s.register("8C12l",(function(t,n){e(t.exports,"default",(()=>p));var r=s("ilwiq"),o=s("Q6arU"),i=s("aXdpk"),a=s("3iDF4");const c=new r.Quaternion,l=new r.Euler;function u(e){return e?e.trim().split(/\s+/g).map((e=>parseFloat(e))):[0,0,0]}function h(e,t,n=!1){n||e.rotation.set(0,0,0),l.set(t[0],t[1],t[2],"ZYX"),c.setFromEuler(l),c.multiply(e.quaternion),e.quaternion.copy(c)}class p{constructor(e){this.manager=e||r.DefaultLoadingManager,this.loadMeshCb=this.defaultMeshLoader.bind(this),this.parseVisual=!0,this.parseCollision=!1,this.packages="",this.workingPath="",this.fetchOptions={}}loadAsync(e){return new Promise(((t,n)=>{this.load(e,t,null,n)}))}load(e,t,n,s){const o=this.manager,i=r.LoaderUtils.extractUrlBase(e),a=this.manager.resolveURL(e);o.itemStart(a),fetch(a,this.fetchOptions).then((e=>{if(e.ok)return n&&n(null),e.text();throw new Error(`URDFLoader: Failed to load url '${a}' with error code ${e.status} : ${e.statusText}.`)})).then((e=>{""===this.workingPath&&(this.workingPath=i);const n=this.parse(e);t(n),o.itemEnd(a)})).catch((e=>{s?s(e):console.error("URDFLoader: Error loading file.",e),o.itemError(a),o.itemEnd(a)}))}parse(e){const t=this.packages,n=this.loadMeshCb,s=this.parseVisual,o=this.parseCollision,i=this.workingPath,c=this.manager,l={},p={},f={};function d(e){if(!/^package:\/\//.test(e))return i?i+e:e;const[n,r]=e.replace(/^package:\/\//,"").split(/\/(.+)/);return"string"==typeof t?t.endsWith(n)?t+"/"+r:t+"/"+n+"/"+r:t instanceof Function?t(n)+"/"+r:"object"==typeof t?n in t?t[n]+"/"+r:(console.error(`URDFLoader : ${n} not found in provided package list.`),null):void 0}function m(e){const t=[...e.children],n=new r.MeshPhongMaterial;return n.name=e.getAttribute("name")||"",t.forEach((e=>{const t=e.nodeName.toLowerCase();if("color"===t){const t=e.getAttribute("rgba").split(/\s/g).map((e=>parseFloat(e)));n.color.setRGB(t[0],t[1],t[2]),n.opacity=t[3],n.transparent=t[3]<1,n.depthWrite=!n.transparent}else if("texture"===t){const t=e.getAttribute("filename");if(t){const e=new r.TextureLoader(c),s=d(t);n.map=e.load(s)}}})),n}function g(e,t={}){const s="collision"===e.nodeName.toLowerCase(),o=[...e.children];let i=null;const l=o.filter((e=>"material"===e.nodeName.toLowerCase()))[0];if(l){const e=l.getAttribute("name");i=e&&e in t?t[e]:m(l)}else i=new r.MeshPhongMaterial;const p=s?new a.URDFCollider:new a.URDFVisual;return p.urdfNode=e,o.forEach((e=>{const t=e.nodeName.toLowerCase();if("geometry"===t){const t=e.children[0].nodeName.toLowerCase();if("mesh"===t){const t=d(e.children[0].getAttribute("filename"));if(null!==t){const s=e.children[0].getAttribute("scale");if(s){const e=u(s);p.scale.set(e[0],e[1],e[2])}n(t,c,((e,t)=>{t?console.error("URDFLoader: Error loading mesh.",t):e&&(e instanceof r.Mesh&&(e.material=i),e.position.set(0,0,0),e.quaternion.identity(),p.add(e))}))}}else if("box"===t){const t=new r.Mesh;t.geometry=new r.BoxBufferGeometry(1,1,1),t.material=i;const n=u(e.children[0].getAttribute("size"));t.scale.set(n[0],n[1],n[2]),p.add(t)}else if("sphere"===t){const t=new r.Mesh;t.geometry=new r.SphereBufferGeometry(1,30,30),t.material=i;const n=parseFloat(e.children[0].getAttribute("radius"))||0;t.scale.set(n,n,n),p.add(t)}else if("cylinder"===t){const t=new r.Mesh;t.geometry=new r.CylinderBufferGeometry(1,1,1,30),t.material=i;const n=parseFloat(e.children[0].getAttribute("radius"))||0,s=parseFloat(e.children[0].getAttribute("length"))||0;t.scale.set(n,s,n),t.rotation.set(Math.PI/2,0,0),p.add(t)}}else if("origin"===t){const t=u(e.getAttribute("xyz")),n=u(e.getAttribute("rpy"));p.position.set(t[0],t[1],t[2]),p.rotation.set(0,0,0),h(p,n)}})),p}return function(e){let t;if(e instanceof Document)t=[...e.children];else if(e instanceof Element)t=[e];else{t=[...(new DOMParser).parseFromString(e,"text/xml").children]}return function(e){const t=[...e.children],n=t.filter((e=>"link"===e.nodeName.toLowerCase())),i=t.filter((e=>"joint"===e.nodeName.toLowerCase())),c=t.filter((e=>"material"===e.nodeName.toLowerCase())),d=new a.URDFRobot;d.robotName=e.getAttribute("name"),d.urdfRobotNode=e,c.forEach((e=>{const t=e.getAttribute("name");f[t]=m(e)}));const y={},b={};n.forEach((t=>{const n=t.getAttribute("name"),r=null===e.querySelector(`child[link="${n}"]`);l[n]=function(e,t,n,r=null){null===r&&(r=new a.URDFLink);const i=[...e.children];if(r.name=e.getAttribute("name"),r.urdfName=r.name,r.urdfNode=e,s){i.filter((e=>"visual"===e.nodeName.toLowerCase())).forEach((e=>{const n=g(e,f);if(r.add(n),e.hasAttribute("name")){const r=e.getAttribute("name");n.name=r,n.urdfName=r,t[r]=n}}))}if(o){i.filter((e=>"collision"===e.nodeName.toLowerCase())).forEach((e=>{const t=g(e);if(r.add(t),e.hasAttribute("name")){const r=e.getAttribute("name");t.name=r,t.urdfName=r,n[r]=t}}))}return r}(t,y,b,r?d:null)})),i.forEach((e=>{const t=e.getAttribute("name");p[t]=function(e){const t=[...e.children],n=e.getAttribute("type");let s;const o=t.find((e=>"mimic"===e.nodeName.toLowerCase()));o?(s=new a.URDFMimicJoint,s.mimicJoint=o.getAttribute("joint"),s.multiplier=parseFloat(o.getAttribute("multiplier")||1),s.offset=parseFloat(o.getAttribute("offset")||0)):s=new a.URDFJoint;s.urdfNode=e,s.name=e.getAttribute("name"),s.urdfName=s.name,s.jointType=n;let i=null,c=null,p=[0,0,0],f=[0,0,0];t.forEach((e=>{const t=e.nodeName.toLowerCase();"origin"===t?(p=u(e.getAttribute("xyz")),f=u(e.getAttribute("rpy"))):"child"===t?c=l[e.getAttribute("link")]:"parent"===t?i=l[e.getAttribute("link")]:"limit"===t&&(s.limit.lower=parseFloat(e.getAttribute("lower")||s.limit.lower),s.limit.upper=parseFloat(e.getAttribute("upper")||s.limit.upper))})),i.add(s),s.add(c),h(s,f),s.position.set(p[0],p[1],p[2]);const d=t.filter((e=>"axis"===e.nodeName.toLowerCase()))[0];if(d){const e=d.getAttribute("xyz").split(/\s+/g).map((e=>parseFloat(e)));s.axis=new r.Vector3(e[0],e[1],e[2]),s.axis.normalize()}return s}(e)})),d.joints=p,d.links=l,d.colliders=b,d.visual=y;const w=Object.values(p);return w.forEach((e=>{e instanceof a.URDFMimicJoint&&p[e.mimicJoint].mimicJoints.push(e)})),w.forEach((e=>{const t=new Set,n=e=>{if(t.has(e))throw new Error("URDFLoader: Detected an infinite loop of mimic joints.");t.add(e),e.mimicJoints.forEach((e=>{n(e)}))};n(e)})),d.frames={...b,...y,...l,...p},d}(t.filter((e=>"robot"===e.nodeName)).pop())}(e)}defaultMeshLoader(e,t,n){if(/\.stl$/i.test(e)){new o.STLLoader(t).load(e,(e=>{const t=new r.Mesh(e,new r.MeshPhongMaterial);n(t)}))}else if(/\.dae$/i.test(e)){new i.ColladaLoader(t).load(e,(e=>n(e.scene)))}else console.warn(`URDFLoader: Could not load model at ${e}.\nNo loader available`)}}})),s.register("Q6arU",(function(t,n){e(t.exports,"STLLoader",(()=>o));var r=s("ilwiq");class o extends r.Loader{constructor(e){super(e)}load(e,t,n,s){const o=this,i=new r.FileLoader(this.manager);i.setPath(this.path),i.setResponseType("arraybuffer"),i.setRequestHeader(this.requestHeader),i.setWithCredentials(this.withCredentials),i.load(e,(function(n){try{t(o.parse(n))}catch(t){s?s(t):console.error(t),o.manager.itemError(e)}}),n,s)}parse(e){function t(e,t,n){for(let r=0,s=e.length;r<s;r++)if(e[r]!==t.getUint8(n+r))return!1;return!0}const n=function(e){if("string"==typeof e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=255&e.charCodeAt(n);return t.buffer||t}return e}(e);return function(e){const n=new DataView(e);if(84+50*n.getUint32(80,!0)===n.byteLength)return!0;const r=[115,111,108,105,100];for(let e=0;e<5;e++)if(t(r,n,e))return!1;return!0}(n)?function(e){const t=new DataView(e),n=t.getUint32(80,!0);let s,o,i,a,c,l,u,h,p=!1;for(let e=0;e<70;e++)1129270351==t.getUint32(e,!1)&&82==t.getUint8(e+4)&&61==t.getUint8(e+5)&&(p=!0,a=new Float32Array(9*n),c=t.getUint8(e+6)/255,l=t.getUint8(e+7)/255,u=t.getUint8(e+8)/255,h=t.getUint8(e+9)/255);const f=new r.BufferGeometry,d=new Float32Array(9*n),m=new Float32Array(9*n);for(let e=0;e<n;e++){const n=84+50*e,r=t.getFloat32(n,!0),h=t.getFloat32(n+4,!0),f=t.getFloat32(n+8,!0);if(p){const e=t.getUint16(n+48,!0);0==(32768&e)?(s=(31&e)/31,o=(e>>5&31)/31,i=(e>>10&31)/31):(s=c,o=l,i=u)}for(let c=1;c<=3;c++){const l=n+12*c,u=9*e+3*(c-1);d[u]=t.getFloat32(l,!0),d[u+1]=t.getFloat32(l+4,!0),d[u+2]=t.getFloat32(l+8,!0),m[u]=r,m[u+1]=h,m[u+2]=f,p&&(a[u]=s,a[u+1]=o,a[u+2]=i)}}return f.setAttribute("position",new r.BufferAttribute(d,3)),f.setAttribute("normal",new r.BufferAttribute(m,3)),p&&(f.setAttribute("color",new r.BufferAttribute(a,3)),f.hasColors=!0,f.alpha=h),f}(n):function(e){const t=new r.BufferGeometry,n=/solid([\s\S]*?)endsolid/g,s=/facet([\s\S]*?)endfacet/g;let o=0;const i=/[\s]+([+-]?(?:\d*)(?:\.\d*)?(?:[eE][+-]?\d+)?)/.source,a=new RegExp("vertex"+i+i+i,"g"),c=new RegExp("normal"+i+i+i,"g"),l=[],u=[],h=new r.Vector3;let p,f=0,d=0,m=0;for(;null!==(p=n.exec(e));){d=m;const e=p[0];for(;null!==(p=s.exec(e));){let e=0,t=0;const n=p[0];for(;null!==(p=c.exec(n));)h.x=parseFloat(p[1]),h.y=parseFloat(p[2]),h.z=parseFloat(p[3]),t++;for(;null!==(p=a.exec(n));)l.push(parseFloat(p[1]),parseFloat(p[2]),parseFloat(p[3])),u.push(h.x,h.y,h.z),e++,m++;1!==t&&console.error("THREE.STLLoader: Something isn't right with the normal of face number "+o),3!==e&&console.error("THREE.STLLoader: Something isn't right with the vertices of face number "+o),o++}const n=d,r=m-d;t.addGroup(n,r,f),f++}return t.setAttribute("position",new r.Float32BufferAttribute(l,3)),t.setAttribute("normal",new r.Float32BufferAttribute(u,3)),t}("string"!=typeof(s=e)?r.LoaderUtils.decodeText(new Uint8Array(s)):s);var s}}})),s.register("aXdpk",(function(t,n){e(t.exports,"ColladaLoader",(()=>i));var r=s("ilwiq"),o=s("iVtfO");class i extends r.Loader{constructor(e){super(e)}load(e,t,n,s){const o=this,i=""===o.path?r.LoaderUtils.extractUrlBase(e):o.path,a=new r.FileLoader(o.manager);a.setPath(o.path),a.setRequestHeader(o.requestHeader),a.setWithCredentials(o.withCredentials),a.load(e,(function(n){try{t(o.parse(n,i))}catch(t){s?s(t):console.error(t),o.manager.itemError(e)}}),n,s)}parse(e,t){function n(e,t){const n=[],r=e.childNodes;for(let e=0,s=r.length;e<s;e++){const s=r[e];s.nodeName===t&&n.push(s)}return n}function s(e){if(0===e.length)return[];const t=e.trim().split(/\s+/),n=new Array(t.length);for(let e=0,r=t.length;e<r;e++)n[e]=t[e];return n}function i(e){if(0===e.length)return[];const t=e.trim().split(/\s+/),n=new Array(t.length);for(let e=0,r=t.length;e<r;e++)n[e]=parseFloat(t[e]);return n}function a(e){if(0===e.length)return[];const t=e.trim().split(/\s+/),n=new Array(t.length);for(let e=0,r=t.length;e<r;e++)n[e]=parseInt(t[e]);return n}function c(e){return e.substring(1)}function l(e){return 0===Object.keys(e).length}function u(e){return void 0!==e&&!0===e.hasAttribute("meter")?parseFloat(e.getAttribute("meter")):1}function h(e){return void 0!==e?e.textContent:"Y_UP"}function p(e,t,r,s){const o=n(e,t)[0];if(void 0!==o){const e=n(o,r);for(let t=0;t<e.length;t++)s(e[t])}}function f(e,t){for(const n in e){e[n].build=t(e[n])}}function d(e,t){return void 0!==e.build||(e.build=t(e)),e.build}function m(e){const t={inputs:{}};for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType&&"input"===r.nodeName){const e=c(r.getAttribute("source")),n=r.getAttribute("semantic");t.inputs[n]=e}}return t}function g(e){const t={};let n=e.getAttribute("target").split("/");const r=n.shift();let s=n.shift();const o=-1!==s.indexOf("("),i=-1!==s.indexOf(".");if(i)n=s.split("."),s=n.shift(),t.member=n.shift();else if(o){const e=s.split("(");s=e.shift();for(let t=0;t<e.length;t++)e[t]=parseInt(e[t].replace(/\)/,""));t.indices=e}return t.id=r,t.sid=s,t.arraySyntax=o,t.memberSyntax=i,t.sampler=c(e.getAttribute("source")),t}function y(e){const t=[],n=e.channels,r=e.samplers,s=e.sources;for(const e in n)if(n.hasOwnProperty(e)){const o=n[e],i=r[o.sampler],a=i.inputs.INPUT,c=i.inputs.OUTPUT;N(w(o,s[a],s[c]),t)}return t}function b(e){return d(Ze.animations[e],y)}function w(e,t,n){const r=Ze.nodes[e.id],s=Ie(r.id),o=r.transforms[e.sid],i=r.matrix.clone().transpose();let a,c,l,u,h,p;const f={};switch(o){case"matrix":for(l=0,u=t.array.length;l<u;l++)if(a=t.array[l],c=l*n.stride,void 0===f[a]&&(f[a]={}),!0===e.arraySyntax){const t=n.array[c],r=e.indices[0]+4*e.indices[1];f[a][r]=t}else for(h=0,p=n.stride;h<p;h++)f[a][h]=n.array[c+h];break;case"translate":case"rotate":case"scale":console.warn('THREE.ColladaLoader: Animation transform type "%s" not yet implemented.',o)}const d=function(e,t){const n=[];for(const t in e)n.push({time:parseFloat(t),value:e[t]});n.sort(r);for(let e=0;e<16;e++)k(n,e,t.elements[e]);function r(e,t){return e.time-t.time}return n}(f,i);return{name:s.uuid,keyframes:d}}const x=new r.Vector3,v=new r.Vector3,A=new r.Quaternion;function N(e,t){const n=e.keyframes,s=e.name,o=[],i=[],a=[],c=[];for(let e=0,t=n.length;e<t;e++){const t=n[e],r=t.time,s=t.value;Me.fromArray(s).transpose(),Me.decompose(x,A,v),o.push(r),i.push(x.x,x.y,x.z),a.push(A.x,A.y,A.z,A.w),c.push(v.x,v.y,v.z)}return i.length>0&&t.push(new r.VectorKeyframeTrack(s+".position",o,i)),a.length>0&&t.push(new r.QuaternionKeyframeTrack(s+".quaternion",o,a)),c.length>0&&t.push(new r.VectorKeyframeTrack(s+".scale",o,c)),t}function k(e,t,n){let r,s,o,i=!0;for(s=0,o=e.length;s<o;s++)r=e[s],void 0===r.value[t]?r.value[t]=null:i=!1;if(!0===i)for(s=0,o=e.length;s<o;s++)r=e[s],r.value[t]=n;else!function(e,t){let n,r;for(let s=0,o=e.length;s<o;s++){const o=e[s];if(null===o.value[t]){if(n=E(e,s,t),r=T(e,s,t),null===n){o.value[t]=r.value[t];continue}if(null===r){o.value[t]=n.value[t];continue}M(o,n,r,t)}}}(e,t)}function E(e,t,n){for(;t>=0;){const r=e[t];if(null!==r.value[n])return r;t--}return null}function T(e,t,n){for(;t<e.length;){const r=e[t];if(null!==r.value[n])return r;t++}return null}function M(e,t,n,r){n.time-t.time!=0?e.value[r]=(e.time-t.time)*(n.value[r]-t.value[r])/(n.time-t.time)+t.value[r]:e.value[r]=t.value[r]}function C(e){const t=[],n=e.name,s=e.end-e.start||-1,o=e.animations;for(let e=0,n=o.length;e<n;e++){const n=b(o[e]);for(let e=0,r=n.length;e<r;e++)t.push(n[e])}return new r.AnimationClip(n,s,t)}function _(e){return d(Ze.clips[e],C)}function R(e){const t={sources:{}};for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"bind_shape_matrix":t.bindShapeMatrix=i(r.textContent);break;case"source":const e=r.getAttribute("id");t.sources[e]=ae(r);break;case"joints":t.joints=F(r);break;case"vertex_weights":t.vertexWeights=L(r)}}return t}function F(e){const t={inputs:{}};for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType&&"input"===r.nodeName){const e=r.getAttribute("semantic"),n=c(r.getAttribute("source"));t.inputs[e]=n}}return t}function L(e){const t={inputs:{}};for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"input":const e=r.getAttribute("semantic"),n=c(r.getAttribute("source")),s=parseInt(r.getAttribute("offset"));t.inputs[e]={id:n,offset:s};break;case"vcount":t.vcount=a(r.textContent);break;case"v":t.v=a(r.textContent)}}return t}function O(e){const t={id:e.id},n=Ze.geometries[t.id];return void 0!==e.skin&&(t.skin=function(e){const t=4,n={joints:[],indices:{array:[],stride:t},weights:{array:[],stride:t}},s=e.sources,o=e.vertexWeights,i=o.vcount,a=o.v,c=o.inputs.JOINT.offset,l=o.inputs.WEIGHT.offset,u=e.sources[e.joints.inputs.JOINT],h=e.sources[e.joints.inputs.INV_BIND_MATRIX],p=s[o.inputs.WEIGHT.id].array;let f,d,m,g=0;for(f=0,m=i.length;f<m;f++){const e=i[f],r=[];for(d=0;d<e;d++){const e=a[g+c],t=p[a[g+l]];r.push({index:e,weight:t}),g+=2}for(r.sort(y),d=0;d<t;d++){const e=r[d];void 0!==e?(n.indices.array.push(e.index),n.weights.array.push(e.weight)):(n.indices.array.push(0),n.weights.array.push(0))}}e.bindShapeMatrix?n.bindMatrix=(new r.Matrix4).fromArray(e.bindShapeMatrix).transpose():n.bindMatrix=(new r.Matrix4).identity();for(f=0,m=u.array.length;f<m;f++){const e=u.array[f],t=(new r.Matrix4).fromArray(h.array,f*h.stride).transpose();n.joints.push({name:e,boneInverse:t})}function y(e,t){return t.weight-e.weight}return n}(e.skin),n.sources.skinIndices=t.skin.indices,n.sources.skinWeights=t.skin.weights),t}function j(e){return void 0!==e.build?e.build:e.init_from}function P(e){const t=Ze.images[e];return void 0!==t?d(t,j):(console.warn("THREE.ColladaLoader: Couldn't find image with ID:",e),null)}function U(e){const t={surfaces:{},samplers:{}};for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"newparam":S(r,t);break;case"technique":t.technique=V(r);break;case"extra":t.extra=W(r)}}return t}function S(e,t){const n=e.getAttribute("sid");for(let r=0,s=e.childNodes.length;r<s;r++){const s=e.childNodes[r];if(1===s.nodeType)switch(s.nodeName){case"surface":t.surfaces[n]=I(s);break;case"sampler2D":t.samplers[n]=D(s)}}}function I(e){const t={};for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType&&"init_from"===r.nodeName)t.init_from=r.textContent}return t}function D(e){const t={};for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType&&"source"===r.nodeName)t.source=r.textContent}return t}function V(e){const t={};for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"constant":case"lambert":case"blinn":case"phong":t.type=r.nodeName,t.parameters=q(r);break;case"extra":t.extra=W(r)}}return t}function q(e){const t={};for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"emission":case"diffuse":case"specular":case"bump":case"ambient":case"shininess":case"transparency":t[r.nodeName]=J(r);break;case"transparent":t[r.nodeName]={opaque:r.hasAttribute("opaque")?r.getAttribute("opaque"):"A_ONE",data:J(r)}}}return t}function J(e){const t={};for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"color":t[r.nodeName]=i(r.textContent);break;case"float":t[r.nodeName]=parseFloat(r.textContent);break;case"texture":t[r.nodeName]={id:r.getAttribute("texture"),extra:B(r)}}}return t}function B(e){const t={technique:{}};for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType&&"extra"===r.nodeName)G(r,t)}return t}function G(e,t){for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType&&"technique"===r.nodeName)$(r,t)}}function $(e,t){for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"repeatU":case"repeatV":case"offsetU":case"offsetV":t.technique[r.nodeName]=parseFloat(r.textContent);break;case"wrapU":case"wrapV":"TRUE"===r.textContent.toUpperCase()?t.technique[r.nodeName]=1:"FALSE"===r.textContent.toUpperCase()?t.technique[r.nodeName]=0:t.technique[r.nodeName]=parseInt(r.textContent);break;case"bump":t[r.nodeName]=z(r)}}}function W(e){const t={};for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType&&"technique"===r.nodeName)t.technique=H(r)}return t}function H(e){const t={};for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"double_sided":t[r.nodeName]=parseInt(r.textContent);break;case"bump":t[r.nodeName]=z(r)}}return t}function z(e){const t={};for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType&&"texture"===r.nodeName)t[r.nodeName]={id:r.getAttribute("texture"),texcoord:r.getAttribute("texcoord"),extra:B(r)}}return t}function X(e){return e}function K(e){const t=(n=e.url,d(Ze.effects[n],X));var n;const s=t.profile.technique;let o;switch(s.type){case"phong":case"blinn":o=new r.MeshPhongMaterial;break;case"lambert":o=new r.MeshLambertMaterial;break;default:o=new r.MeshBasicMaterial}function i(e,n=null){const s=t.profile.samplers[e.id];let o=null;if(void 0!==s){o=P(t.profile.surfaces[s.source].init_from)}else console.warn("THREE.ColladaLoader: Undefined sampler. Access image directly (see #12530)."),o=P(e.id);if(null!==o){const t=function(e){let t,n=e.slice(2+(e.lastIndexOf(".")-1>>>0));n=n.toLowerCase(),t="tga"===n?ze:He;return t}(o);if(void 0!==t){const s=t.load(o),i=e.extra;if(void 0!==i&&void 0!==i.technique&&!1===l(i.technique)){const e=i.technique;s.wrapS=e.wrapU?r.RepeatWrapping:r.ClampToEdgeWrapping,s.wrapT=e.wrapV?r.RepeatWrapping:r.ClampToEdgeWrapping,s.offset.set(e.offsetU||0,e.offsetV||0),s.repeat.set(e.repeatU||1,e.repeatV||1)}else s.wrapS=r.RepeatWrapping,s.wrapT=r.RepeatWrapping;return null!==n&&(s.encoding=n),s}return console.warn("THREE.ColladaLoader: Loader for texture %s not found.",o),null}return console.warn("THREE.ColladaLoader: Couldn't create texture with ID:",e.id),null}o.name=e.name||"";const a=s.parameters;for(const e in a){const t=a[e];switch(e){case"diffuse":t.color&&o.color.fromArray(t.color),t.texture&&(o.map=i(t.texture,r.sRGBEncoding));break;case"specular":t.color&&o.specular&&o.specular.fromArray(t.color),t.texture&&(o.specularMap=i(t.texture));break;case"bump":t.texture&&(o.normalMap=i(t.texture));break;case"ambient":t.texture&&(o.lightMap=i(t.texture,r.sRGBEncoding));break;case"shininess":t.float&&o.shininess&&(o.shininess=t.float);break;case"emission":t.color&&o.emissive&&o.emissive.fromArray(t.color),t.texture&&(o.emissiveMap=i(t.texture,r.sRGBEncoding))}}o.color.convertSRGBToLinear(),o.specular&&o.specular.convertSRGBToLinear(),o.emissive&&o.emissive.convertSRGBToLinear();let c=a.transparent,u=a.transparency;if(void 0===u&&c&&(u={float:1}),void 0===c&&u&&(c={opaque:"A_ONE",data:{color:[1,1,1,1]}}),c&&u)if(c.data.texture)o.transparent=!0;else{const e=c.data.color;switch(c.opaque){case"A_ONE":o.opacity=e[3]*u.float;break;case"RGB_ZERO":o.opacity=1-e[0]*u.float;break;case"A_ZERO":o.opacity=1-e[3]*u.float;break;case"RGB_ONE":o.opacity=e[0]*u.float;break;default:console.warn('THREE.ColladaLoader: Invalid opaque type "%s" of transparent tag.',c.opaque)}o.opacity<1&&(o.transparent=!0)}if(void 0!==s.extra&&void 0!==s.extra.technique){const e=s.extra.technique;for(const t in e){const n=e[t];switch(t){case"double_sided":o.side=1===n?r.DoubleSide:r.FrontSide;break;case"bump":o.normalMap=i(n.texture),o.normalScale=new r.Vector2(1,1)}}}return o}function Q(e){return d(Ze.materials[e],K)}function Y(e){for(let t=0;t<e.childNodes.length;t++){const n=e.childNodes[t];if("technique_common"===n.nodeName)return Z(n)}return{}}function Z(e){const t={};for(let n=0;n<e.childNodes.length;n++){const r=e.childNodes[n];switch(r.nodeName){case"perspective":case"orthographic":t.technique=r.nodeName,t.parameters=ee(r)}}return t}function ee(e){const t={};for(let n=0;n<e.childNodes.length;n++){const r=e.childNodes[n];switch(r.nodeName){case"xfov":case"yfov":case"xmag":case"ymag":case"znear":case"zfar":case"aspect_ratio":t[r.nodeName]=parseFloat(r.textContent)}}return t}function te(e){let t;switch(e.optics.technique){case"perspective":t=new r.PerspectiveCamera(e.optics.parameters.yfov,e.optics.parameters.aspect_ratio,e.optics.parameters.znear,e.optics.parameters.zfar);break;case"orthographic":let n=e.optics.parameters.ymag,s=e.optics.parameters.xmag;const o=e.optics.parameters.aspect_ratio;s=void 0===s?n*o:s,n=void 0===n?s/o:n,s*=.5,n*=.5,t=new r.OrthographicCamera(-s,s,n,-n,e.optics.parameters.znear,e.optics.parameters.zfar);break;default:t=new r.PerspectiveCamera}return t.name=e.name||"",t}function ne(e){const t=Ze.cameras[e];return void 0!==t?d(t,te):(console.warn("THREE.ColladaLoader: Couldn't find camera with ID:",e),null)}function re(e){const t={};for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"directional":case"point":case"spot":case"ambient":t.technique=r.nodeName,t.parameters=se(r)}}return t}function se(e){const t={};for(let n=0,s=e.childNodes.length;n<s;n++){const s=e.childNodes[n];if(1===s.nodeType)switch(s.nodeName){case"color":const e=i(s.textContent);t.color=(new r.Color).fromArray(e).convertSRGBToLinear();break;case"falloff_angle":t.falloffAngle=parseFloat(s.textContent);break;case"quadratic_attenuation":const n=parseFloat(s.textContent);t.distance=n?Math.sqrt(1/n):0}}return t}function oe(e){let t;switch(e.technique){case"directional":t=new r.DirectionalLight;break;case"point":t=new r.PointLight;break;case"spot":t=new r.SpotLight;break;case"ambient":t=new r.AmbientLight}return e.parameters.color&&t.color.copy(e.parameters.color),e.parameters.distance&&(t.distance=e.parameters.distance),t}function ie(e){const t=Ze.lights[e];return void 0!==t?d(t,oe):(console.warn("THREE.ColladaLoader: Couldn't find light with ID:",e),null)}function ae(e){const t={array:[],stride:3};for(let r=0;r<e.childNodes.length;r++){const o=e.childNodes[r];if(1===o.nodeType)switch(o.nodeName){case"float_array":t.array=i(o.textContent);break;case"Name_array":t.array=s(o.textContent);break;case"technique_common":const e=n(o,"accessor")[0];void 0!==e&&(t.stride=parseInt(e.getAttribute("stride")))}}return t}function ce(e){const t={};for(let n=0;n<e.childNodes.length;n++){const r=e.childNodes[n];1===r.nodeType&&(t[r.getAttribute("semantic")]=c(r.getAttribute("source")))}return t}function le(e){const t={type:e.nodeName,material:e.getAttribute("material"),count:parseInt(e.getAttribute("count")),inputs:{},stride:0,hasUV:!1};for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"input":const e=c(r.getAttribute("source")),n=r.getAttribute("semantic"),s=parseInt(r.getAttribute("offset")),o=parseInt(r.getAttribute("set")),i=o>0?n+o:n;t.inputs[i]={id:e,offset:s},t.stride=Math.max(t.stride,s+1),"TEXCOORD"===n&&(t.hasUV=!0);break;case"vcount":t.vcount=a(r.textContent);break;case"p":t.p=a(r.textContent)}}return t}function ue(e){let t=0;for(let n=0,r=e.length;n<r;n++){!0===e[n].hasUV&&t++}t>0&&t<e.length&&(e.uvsNeedsFix=!0)}function he(e){const t={},n=e.sources,r=e.vertices,s=e.primitives;if(0===s.length)return{};const o=function(e){const t={};for(let n=0;n<e.length;n++){const r=e[n];void 0===t[r.type]&&(t[r.type]=[]),t[r.type].push(r)}return t}(s);for(const e in o){const s=o[e];ue(s),t[e]=pe(s,n,r)}return t}function pe(e,t,n){const s={},o={array:[],stride:0},i={array:[],stride:0},a={array:[],stride:0},c={array:[],stride:0},l={array:[],stride:0},u=[],h=4,p=[],f=4,d=new r.BufferGeometry,m=[];let g=0;for(let r=0;r<e.length;r++){const s=e[r],h=s.inputs;let f=0;switch(s.type){case"lines":case"linestrips":f=2*s.count;break;case"triangles":f=3*s.count;break;case"polylist":for(let e=0;e<s.count;e++){const t=s.vcount[e];switch(t){case 3:f+=3;break;case 4:f+=6;break;default:f+=3*(t-2)}}break;default:console.warn("THREE.ColladaLoader: Unknow primitive type:",s.type)}d.addGroup(g,f,r),g+=f,s.material&&m.push(s.material);for(const r in h){const f=h[r];switch(r){case"VERTEX":for(const r in n){const h=n[r];switch(r){case"POSITION":const n=o.array.length;if(fe(s,t[h],f.offset,o.array),o.stride=t[h].stride,t.skinWeights&&t.skinIndices&&(fe(s,t.skinIndices,f.offset,u),fe(s,t.skinWeights,f.offset,p)),!1===s.hasUV&&!0===e.uvsNeedsFix){const e=(o.array.length-n)/o.stride;for(let t=0;t<e;t++)a.array.push(0,0)}break;case"NORMAL":fe(s,t[h],f.offset,i.array),i.stride=t[h].stride;break;case"COLOR":fe(s,t[h],f.offset,l.array),l.stride=t[h].stride;break;case"TEXCOORD":fe(s,t[h],f.offset,a.array),a.stride=t[h].stride;break;case"TEXCOORD1":fe(s,t[h],f.offset,c.array),a.stride=t[h].stride;break;default:console.warn('THREE.ColladaLoader: Semantic "%s" not handled in geometry build process.',r)}}break;case"NORMAL":fe(s,t[f.id],f.offset,i.array),i.stride=t[f.id].stride;break;case"COLOR":fe(s,t[f.id],f.offset,l.array,!0),l.stride=t[f.id].stride;break;case"TEXCOORD":fe(s,t[f.id],f.offset,a.array),a.stride=t[f.id].stride;break;case"TEXCOORD1":fe(s,t[f.id],f.offset,c.array),c.stride=t[f.id].stride}}}return o.array.length>0&&d.setAttribute("position",new r.Float32BufferAttribute(o.array,o.stride)),i.array.length>0&&d.setAttribute("normal",new r.Float32BufferAttribute(i.array,i.stride)),l.array.length>0&&d.setAttribute("color",new r.Float32BufferAttribute(l.array,l.stride)),a.array.length>0&&d.setAttribute("uv",new r.Float32BufferAttribute(a.array,a.stride)),c.array.length>0&&d.setAttribute("uv2",new r.Float32BufferAttribute(c.array,c.stride)),u.length>0&&d.setAttribute("skinIndex",new r.Float32BufferAttribute(u,h)),p.length>0&&d.setAttribute("skinWeight",new r.Float32BufferAttribute(p,f)),s.data=d,s.type=e[0].type,s.materialKeys=m,s}function fe(e,t,n,r,s=!1){const o=e.p,i=e.stride,a=e.vcount;function c(e){let t=o[e+n]*u;const i=t+u;for(;t<i;t++)r.push(l[t]);if(s){const e=r.length-u-1;Xe.setRGB(r[e+0],r[e+1],r[e+2]).convertSRGBToLinear(),r[e+0]=Xe.r,r[e+1]=Xe.g,r[e+2]=Xe.b}}const l=t.array,u=t.stride;if(void 0!==e.vcount){let e=0;for(let t=0,n=a.length;t<n;t++){const n=a[t];if(4===n){const t=e+1*i,n=e+2*i,r=e+3*i;c(e+0*i),c(t),c(r),c(t),c(n),c(r)}else if(3===n){const t=e+1*i,n=e+2*i;c(e+0*i),c(t),c(n)}else if(n>4)for(let t=1,r=n-2;t<=r;t++){const n=e+i*t,r=e+i*(t+1);c(e+0*i),c(n),c(r)}e+=i*n}}else for(let e=0,t=o.length;e<t;e+=i)c(e)}function de(e){return d(Ze.geometries[e],he)}function me(e){return void 0!==e.build?e.build:e}function ge(e,t){for(let n=0;n<e.childNodes.length;n++){const r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"joint":t.joints[r.getAttribute("sid")]=ye(r);break;case"link":t.links.push(we(r))}}}function ye(e){let t;for(let n=0;n<e.childNodes.length;n++){const r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"prismatic":case"revolute":t=be(r)}}return t}function be(e){const t={sid:e.getAttribute("sid"),name:e.getAttribute("name")||"",axis:new r.Vector3,limits:{min:0,max:0},type:e.nodeName,static:!1,zeroPosition:0,middlePosition:0};for(let n=0;n<e.childNodes.length;n++){const r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"axis":const e=i(r.textContent);t.axis.fromArray(e);break;case"limits":const n=r.getElementsByTagName("max")[0],s=r.getElementsByTagName("min")[0];t.limits.max=parseFloat(n.textContent),t.limits.min=parseFloat(s.textContent)}}return t.limits.min>=t.limits.max&&(t.static=!0),t.middlePosition=(t.limits.min+t.limits.max)/2,t}function we(e){const t={sid:e.getAttribute("sid"),name:e.getAttribute("name")||"",attachments:[],transforms:[]};for(let n=0;n<e.childNodes.length;n++){const r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"attachment_full":t.attachments.push(xe(r));break;case"matrix":case"translate":case"rotate":t.transforms.push(ve(r))}}return t}function xe(e){const t={joint:e.getAttribute("joint").split("/").pop(),transforms:[],links:[]};for(let n=0;n<e.childNodes.length;n++){const r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"link":t.links.push(we(r));break;case"matrix":case"translate":case"rotate":t.transforms.push(ve(r))}}return t}function ve(e){const t={type:e.nodeName},n=i(e.textContent);switch(t.type){case"matrix":t.obj=new r.Matrix4,t.obj.fromArray(n).transpose();break;case"translate":t.obj=new r.Vector3,t.obj.fromArray(n);break;case"rotate":t.obj=new r.Vector3,t.obj.fromArray(n),t.angle=r.MathUtils.degToRad(n[3])}return t}function Ae(e,t){for(let n=0;n<e.childNodes.length;n++){const r=e.childNodes[n];if(1===r.nodeType&&"technique_common"===r.nodeName)Ne(r,t)}}function Ne(e,t){for(let n=0;n<e.childNodes.length;n++){const r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"inertia":t.inertia=i(r.textContent);break;case"mass":t.mass=i(r.textContent)[0]}}}function ke(e){const t={target:e.getAttribute("target").split("/").pop()};for(let n=0;n<e.childNodes.length;n++){const r=e.childNodes[n];if(1===r.nodeType&&"axis"===r.nodeName){const e=r.getElementsByTagName("param")[0];t.axis=e.textContent;const n=t.axis.split("inst_").pop().split("axis")[0];t.jointIndex=n.substring(0,n.length-1)}}return t}function Ee(e){return void 0!==e.build?e.build:e}function Te(e){const t=[],n=Je.querySelector('[id="'+e.id+'"]');for(let e=0;e<n.childNodes.length;e++){const s=n.childNodes[e];if(1!==s.nodeType)continue;let o,a;switch(s.nodeName){case"matrix":o=i(s.textContent);const e=(new r.Matrix4).fromArray(o).transpose();t.push({sid:s.getAttribute("sid"),type:s.nodeName,obj:e});break;case"translate":case"scale":o=i(s.textContent),a=(new r.Vector3).fromArray(o),t.push({sid:s.getAttribute("sid"),type:s.nodeName,obj:a});break;case"rotate":o=i(s.textContent),a=(new r.Vector3).fromArray(o);const n=r.MathUtils.degToRad(o[3]);t.push({sid:s.getAttribute("sid"),type:s.nodeName,obj:a,angle:n})}}return t}const Me=new r.Matrix4,Ce=new r.Vector3;function _e(e){const t={name:e.getAttribute("name")||"",type:e.getAttribute("type"),id:e.getAttribute("id"),sid:e.getAttribute("sid"),matrix:new r.Matrix4,nodes:[],instanceCameras:[],instanceControllers:[],instanceLights:[],instanceGeometries:[],instanceNodes:[],transforms:{}};for(let n=0;n<e.childNodes.length;n++){const s=e.childNodes[n];if(1!==s.nodeType)continue;let o;switch(s.nodeName){case"node":t.nodes.push(s.getAttribute("id")),_e(s);break;case"instance_camera":t.instanceCameras.push(c(s.getAttribute("url")));break;case"instance_controller":t.instanceControllers.push(Re(s));break;case"instance_light":t.instanceLights.push(c(s.getAttribute("url")));break;case"instance_geometry":t.instanceGeometries.push(Re(s));break;case"instance_node":t.instanceNodes.push(c(s.getAttribute("url")));break;case"matrix":o=i(s.textContent),t.matrix.multiply(Me.fromArray(o).transpose()),t.transforms[s.getAttribute("sid")]=s.nodeName;break;case"translate":o=i(s.textContent),Ce.fromArray(o),t.matrix.multiply(Me.makeTranslation(Ce.x,Ce.y,Ce.z)),t.transforms[s.getAttribute("sid")]=s.nodeName;break;case"rotate":o=i(s.textContent);const e=r.MathUtils.degToRad(o[3]);t.matrix.multiply(Me.makeRotationAxis(Ce.fromArray(o),e)),t.transforms[s.getAttribute("sid")]=s.nodeName;break;case"scale":o=i(s.textContent),t.matrix.scale(Ce.fromArray(o)),t.transforms[s.getAttribute("sid")]=s.nodeName;break;case"extra":break;default:console.log(s)}}return Se(t.id)?console.warn("THREE.ColladaLoader: There is already a node with ID %s. Exclude current node from further processing.",t.id):Ze.nodes[t.id]=t,t}function Re(e){const t={id:c(e.getAttribute("url")),materials:{},skeletons:[]};for(let n=0;n<e.childNodes.length;n++){const r=e.childNodes[n];switch(r.nodeName){case"bind_material":const e=r.getElementsByTagName("instance_material");for(let n=0;n<e.length;n++){const r=e[n],s=r.getAttribute("symbol"),o=r.getAttribute("target");t.materials[s]=c(o)}break;case"skeleton":t.skeletons.push(c(r.textContent))}}return t}function Fe(e,t){const n=[],s=[];let o,i,a;for(o=0;o<e.length;o++){const r=e[o];let s;if(Se(r))s=Ie(r),Le(s,t,n);else if(c=r,void 0!==Ze.visualScenes[c]){const e=Ze.visualScenes[r].children;for(let r=0;r<e.length;r++){const s=e[r];if("JOINT"===s.type){Le(Ie(s.id),t,n)}}}else console.error("THREE.ColladaLoader: Unable to find root bone of skeleton with ID:",r)}var c;for(o=0;o<t.length;o++)for(i=0;i<n.length;i++)if(a=n[i],a.bone.name===t[o].name){s[o]=a,a.processed=!0;break}for(o=0;o<n.length;o++)a=n[o],!1===a.processed&&(s.push(a),a.processed=!0);const l=[],u=[];for(o=0;o<s.length;o++)a=s[o],l.push(a.bone),u.push(a.boneInverse);return new r.Skeleton(l,u)}function Le(e,t,n){e.traverse((function(e){if(!0===e.isBone){let s;for(let n=0;n<t.length;n++){const r=t[n];if(r.name===e.name){s=r.boneInverse;break}}void 0===s&&(s=new r.Matrix4),n.push({bone:e,boneInverse:s,processed:!1})}}))}function Oe(e){const t=[],n=e.matrix,s=e.nodes,o=e.type,i=e.instanceCameras,a=e.instanceControllers,c=e.instanceLights,l=e.instanceGeometries,u=e.instanceNodes;for(let e=0,n=s.length;e<n;e++)t.push(Ie(s[e]));for(let e=0,n=i.length;e<n;e++){const n=ne(i[e]);null!==n&&t.push(n.clone())}for(let e=0,n=a.length;e<n;e++){const n=a[e],r=(h=n.id,d(Ze.controllers[h],O)),s=Ue(de(r.id),n.materials),o=Fe(n.skeletons,r.skin.joints);for(let e=0,n=s.length;e<n;e++){const n=s[e];n.isSkinnedMesh&&(n.bind(o,r.skin.bindMatrix),n.normalizeSkinWeights()),t.push(n)}}var h;for(let e=0,n=c.length;e<n;e++){const n=ie(c[e]);null!==n&&t.push(n.clone())}for(let e=0,n=l.length;e<n;e++){const n=l[e],r=Ue(de(n.id),n.materials);for(let e=0,n=r.length;e<n;e++)t.push(r[e])}for(let e=0,n=u.length;e<n;e++)t.push(Ie(u[e]).clone());let p;if(0===s.length&&1===t.length)p=t[0];else{p="JOINT"===o?new r.Bone:new r.Group;for(let e=0;e<t.length;e++)p.add(t[e])}return p.name="JOINT"===o?e.sid:e.name,p.matrix.copy(n),p.matrix.decompose(p.position,p.quaternion,p.scale),p}const je=new r.MeshBasicMaterial({color:16711935});function Pe(e,t){const n=[];for(let r=0,s=e.length;r<s;r++){const s=t[e[r]];void 0===s?(console.warn("THREE.ColladaLoader: Material with key %s not found. Apply fallback material.",e[r]),n.push(je)):n.push(Q(s))}return n}function Ue(e,t){const n=[];for(const s in e){const o=e[s],i=Pe(o.materialKeys,t);0===i.length&&("lines"===s||"linestrips"===s?i.push(new r.LineBasicMaterial):i.push(new r.MeshPhongMaterial));const a=void 0!==o.data.attributes.skinIndex,c=1===i.length?i[0]:i;let l;switch(s){case"lines":l=new r.LineSegments(o.data,c);break;case"linestrips":l=new r.Line(o.data,c);break;case"triangles":case"polylist":l=a?new r.SkinnedMesh(o.data,c):new r.Mesh(o.data,c)}n.push(l)}return n}function Se(e){return void 0!==Ze.nodes[e]}function Ie(e){return d(Ze.nodes[e],Oe)}function De(e){const t=new r.Group;t.name=e.name;const n=e.children;for(let e=0;e<n.length;e++){const r=n[e];t.add(Ie(r.id))}return t}function Ve(e){return d(Ze.visualScenes[e],De)}if(0===e.length)return{scene:new r.Scene};const qe=(new DOMParser).parseFromString(e,"application/xml"),Je=n(qe,"COLLADA")[0],Be=qe.getElementsByTagName("parsererror")[0];if(void 0!==Be){const e=n(Be,"div")[0];let t;return t=e?e.textContent:function(e){let t="";const n=[e];for(;n.length;){const e=n.shift();e.nodeType===Node.TEXT_NODE?t+=e.textContent:(t+="\n",n.push.apply(n,e.childNodes))}return t.trim()}(Be),console.error("THREE.ColladaLoader: Failed to parse collada file.\n",t),null}const Ge=Je.getAttribute("version");console.log("THREE.ColladaLoader: File version",Ge);const $e=(We=n(Je,"asset")[0],{unit:u(n(We,"unit")[0]),upAxis:h(n(We,"up_axis")[0])});var We;const He=new r.TextureLoader(this.manager);let ze;He.setPath(this.resourcePath||t).setCrossOrigin(this.crossOrigin),o.TGALoader&&(ze=new o.TGALoader(this.manager),ze.setPath(this.resourcePath||t));const Xe=new r.Color,Ke=[];let Qe={},Ye=0;const Ze={animations:{},clips:{},controllers:{},images:{},effects:{},materials:{},cameras:{},lights:{},geometries:{},nodes:{},visualScenes:{},kinematicsModels:{},physicsModels:{},kinematicsScenes:{}};p(Je,"library_animations","animation",(function e(t){const n={sources:{},samplers:{},channels:{}};let s=!1;for(let r=0,o=t.childNodes.length;r<o;r++){const o=t.childNodes[r];if(1!==o.nodeType)continue;let i;switch(o.nodeName){case"source":i=o.getAttribute("id"),n.sources[i]=ae(o);break;case"sampler":i=o.getAttribute("id"),n.samplers[i]=m(o);break;case"channel":i=o.getAttribute("target"),n.channels[i]=g(o);break;case"animation":e(o),s=!0;break;default:console.log(o)}}!1===s&&(Ze.animations[t.getAttribute("id")||r.MathUtils.generateUUID()]=n)})),p(Je,"library_animation_clips","animation_clip",(function(e){const t={name:e.getAttribute("id")||"default",start:parseFloat(e.getAttribute("start")||0),end:parseFloat(e.getAttribute("end")||0),animations:[]};for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType&&"instance_animation"===r.nodeName)t.animations.push(c(r.getAttribute("url")))}Ze.clips[e.getAttribute("id")]=t})),p(Je,"library_controllers","controller",(function(e){const t={};for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"skin":t.id=c(r.getAttribute("source")),t.skin=R(r);break;case"morph":t.id=c(r.getAttribute("source")),console.warn("THREE.ColladaLoader: Morph target animation not supported yet.")}}Ze.controllers[e.getAttribute("id")]=t})),p(Je,"library_images","image",(function(e){const t={init_from:n(e,"init_from")[0].textContent};Ze.images[e.getAttribute("id")]=t})),p(Je,"library_effects","effect",(function(e){const t={};for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType&&"profile_COMMON"===r.nodeName)t.profile=U(r)}Ze.effects[e.getAttribute("id")]=t})),p(Je,"library_materials","material",(function(e){const t={name:e.getAttribute("name")};for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType&&"instance_effect"===r.nodeName)t.url=c(r.getAttribute("url"))}Ze.materials[e.getAttribute("id")]=t})),p(Je,"library_cameras","camera",(function(e){const t={name:e.getAttribute("name")};for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType&&"optics"===r.nodeName)t.optics=Y(r)}Ze.cameras[e.getAttribute("id")]=t})),p(Je,"library_lights","light",(function(e){let t={};for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType&&"technique_common"===r.nodeName)t=re(r)}Ze.lights[e.getAttribute("id")]=t})),p(Je,"library_geometries","geometry",(function(e){const t={name:e.getAttribute("name"),sources:{},vertices:{},primitives:[]},r=n(e,"mesh")[0];if(void 0!==r){for(let e=0;e<r.childNodes.length;e++){const n=r.childNodes[e];if(1!==n.nodeType)continue;const s=n.getAttribute("id");switch(n.nodeName){case"source":t.sources[s]=ae(n);break;case"vertices":t.vertices=ce(n);break;case"polygons":console.warn("THREE.ColladaLoader: Unsupported primitive type: ",n.nodeName);break;case"lines":case"linestrips":case"polylist":case"triangles":t.primitives.push(le(n));break;default:console.log(n)}}Ze.geometries[e.getAttribute("id")]=t}})),p(Je,"library_nodes","node",_e),p(Je,"library_visual_scenes","visual_scene",(function(e){const t={name:e.getAttribute("name"),children:[]};!function(e){const t=e.getElementsByTagName("node");for(let e=0;e<t.length;e++){const n=t[e];!1===n.hasAttribute("id")&&n.setAttribute("id","three_default_"+Ye++)}}(e);const r=n(e,"node");for(let e=0;e<r.length;e++)t.children.push(_e(r[e]));Ze.visualScenes[e.getAttribute("id")]=t})),p(Je,"library_kinematics_models","kinematics_model",(function(e){const t={name:e.getAttribute("name")||"",joints:{},links:[]};for(let n=0;n<e.childNodes.length;n++){const r=e.childNodes[n];if(1===r.nodeType&&"technique_common"===r.nodeName)ge(r,t)}Ze.kinematicsModels[e.getAttribute("id")]=t})),p(Je,"library_physics_models","physics_model",(function(e){const t={name:e.getAttribute("name")||"",rigidBodies:{}};for(let n=0;n<e.childNodes.length;n++){const r=e.childNodes[n];if(1===r.nodeType&&"rigid_body"===r.nodeName)t.rigidBodies[r.getAttribute("name")]={},Ae(r,t.rigidBodies[r.getAttribute("name")])}Ze.physicsModels[e.getAttribute("id")]=t})),p(Je,"scene","instance_kinematics_scene",(function(e){const t={bindJointAxis:[]};for(let n=0;n<e.childNodes.length;n++){const r=e.childNodes[n];if(1===r.nodeType&&"bind_joint_axis"===r.nodeName)t.bindJointAxis.push(ke(r))}Ze.kinematicsScenes[c(e.getAttribute("url"))]=t})),f(Ze.animations,y),f(Ze.clips,C),f(Ze.controllers,O),f(Ze.images,j),f(Ze.effects,X),f(Ze.materials,K),f(Ze.cameras,te),f(Ze.lights,oe),f(Ze.geometries,he),f(Ze.visualScenes,De),function(){const e=Ze.clips;if(!0===l(e)){if(!1===l(Ze.animations)){const e=[];for(const t in Ze.animations){const n=b(t);for(let t=0,r=n.length;t<r;t++)e.push(n[t])}Ke.push(new r.AnimationClip("default",-1,e))}}else for(const t in e)Ke.push(_(t))}(),function(){const e=Object.keys(Ze.kinematicsModels)[0],t=Object.keys(Ze.kinematicsScenes)[0],n=Object.keys(Ze.visualScenes)[0];if(void 0===e||void 0===t)return;const s=(o=e,d(Ze.kinematicsModels[o],me));var o;const i=function(e){return d(Ze.kinematicsScenes[e],Ee)}(t),a=Ve(n),c=i.bindJointAxis,l={};for(let e=0,t=c.length;e<t;e++){const t=c[e],n=Je.querySelector('[sid="'+t.target+'"]');if(n){const e=n.parentElement;u(t.jointIndex,e)}}function u(e,t){const n=t.getAttribute("name"),r=s.joints[e];a.traverse((function(s){s.name===n&&(l[e]={object:s,transforms:Te(t),joint:r,position:r.zeroPosition})}))}const h=new r.Matrix4;Qe={joints:s&&s.joints,getJointValue:function(e){const t=l[e];if(t)return t.position;console.warn("THREE.ColladaLoader: Joint "+e+" doesn't exist.")},setJointValue:function(e,t){const n=l[e];if(n){const s=n.joint;if(t>s.limits.max||t<s.limits.min)console.warn("THREE.ColladaLoader: Joint "+e+" value "+t+" outside of limits (min: "+s.limits.min+", max: "+s.limits.max+").");else if(s.static)console.warn("THREE.ColladaLoader: Joint "+e+" is static.");else{const o=n.object,i=s.axis,a=n.transforms;Me.identity();for(let n=0;n<a.length;n++){const o=a[n];if(o.sid&&-1!==o.sid.indexOf(e))switch(s.type){case"revolute":Me.multiply(h.makeRotationAxis(i,r.MathUtils.degToRad(t)));break;case"prismatic":Me.multiply(h.makeTranslation(i.x*t,i.y*t,i.z*t));break;default:console.warn("THREE.ColladaLoader: Unknown joint type: "+s.type)}else switch(o.type){case"matrix":Me.multiply(o.obj);break;case"translate":Me.multiply(h.makeTranslation(o.obj.x,o.obj.y,o.obj.z));break;case"scale":Me.scale(o.obj);break;case"rotate":Me.multiply(h.makeRotationAxis(o.obj,o.angle))}}o.matrix.copy(Me),o.matrix.decompose(o.position,o.quaternion,o.scale),l[e].position=t}}else console.log("THREE.ColladaLoader: "+e+" does not exist.")}}}();const et=function(e){return Ve(c(n(e,"instance_visual_scene")[0].getAttribute("url")))}(n(Je,"scene")[0]);return et.animations=Ke,"Z_UP"===$e.upAxis&&et.quaternion.setFromEuler(new r.Euler(-Math.PI/2,0,0)),et.scale.multiplyScalar($e.unit),{get animations(){return console.warn("THREE.ColladaLoader: Please access animations over scene.animations now."),Ke},kinematics:Qe,library:Ze,scene:et}}}})),s.register("iVtfO",(function(t,n){e(t.exports,"TGALoader",(()=>o));var r=s("ilwiq");class o extends r.DataTextureLoader{constructor(e){super(e)}parse(e){const t=0,n=1,s=2,o=3,i=9,a=10,c=11,l=48,u=4,h=0,p=1,f=2,d=3;e.length<19&&console.error("THREE.TGALoader: Not enough data to contain header.");let m=0;const g=new Uint8Array(e),y={id_length:g[m++],colormap_type:g[m++],image_type:g[m++],colormap_index:g[m++]|g[m++]<<8,colormap_length:g[m++]|g[m++]<<8,colormap_size:g[m++],origin:[g[m++]|g[m++]<<8,g[m++]|g[m++]<<8],width:g[m++]|g[m++]<<8,height:g[m++]|g[m++]<<8,pixel_size:g[m++],flags:g[m++]};!function(e){switch(e.image_type){case n:case i:(e.colormap_length>256||24!==e.colormap_size||1!==e.colormap_type)&&console.error("THREE.TGALoader: Invalid type colormap data for indexed type.");break;case s:case o:case a:case c:e.colormap_type&&console.error("THREE.TGALoader: Invalid type colormap data for colormap type.");break;case t:console.error("THREE.TGALoader: No data.");default:console.error('THREE.TGALoader: Invalid type "%s".',e.image_type)}(e.width<=0||e.height<=0)&&console.error("THREE.TGALoader: Invalid image size."),8!==e.pixel_size&&16!==e.pixel_size&&24!==e.pixel_size&&32!==e.pixel_size&&console.error('THREE.TGALoader: Invalid pixel size "%s".',e.pixel_size)}(y),y.id_length+m>e.length&&console.error("THREE.TGALoader: No data."),m+=y.id_length;let b=!1,w=!1,x=!1;switch(y.image_type){case i:b=!0,w=!0;break;case n:w=!0;break;case a:b=!0;break;case s:break;case c:b=!0,x=!0;break;case o:x=!0}const v=new Uint8Array(y.width*y.height*4),A=function(e,t,n,r,s){let o,i;const a=n.pixel_size>>3,c=n.width*n.height*a;if(t&&(i=s.subarray(r,r+=n.colormap_length*(n.colormap_size>>3))),e){let e,t,n;o=new Uint8Array(c);let i=0;const l=new Uint8Array(a);for(;i<c;)if(e=s[r++],t=1+(127&e),128&e){for(n=0;n<a;++n)l[n]=s[r++];for(n=0;n<t;++n)o.set(l,i+n*a);i+=a*t}else{for(t*=a,n=0;n<t;++n)o[i+n]=s[r++];i+=t}}else o=s.subarray(r,r+=t?n.width*n.height:c);return{pixel_data:o,palettes:i}}(b,w,y,m,g);return function(e,t,n,r,s){let o,i,a,c,m,g;switch((y.flags&l)>>u){default:case f:o=0,a=1,m=t,i=0,c=1,g=n;break;case h:o=0,a=1,m=t,i=n-1,c=-1,g=-1;break;case d:o=t-1,a=-1,m=-1,i=0,c=1,g=n;break;case p:o=t-1,a=-1,m=-1,i=n-1,c=-1,g=-1}if(x)switch(y.pixel_size){case 8:!function(e,t,n,r,s,o,i,a){let c,l,u,h=0;const p=y.width;for(u=t;u!==r;u+=n)for(l=s;l!==i;l+=o,h++)c=a[h],e[4*(l+p*u)+0]=c,e[4*(l+p*u)+1]=c,e[4*(l+p*u)+2]=c,e[4*(l+p*u)+3]=255}(e,i,c,g,o,a,m,r);break;case 16:!function(e,t,n,r,s,o,i,a){let c,l,u=0;const h=y.width;for(l=t;l!==r;l+=n)for(c=s;c!==i;c+=o,u+=2)e[4*(c+h*l)+0]=a[u+0],e[4*(c+h*l)+1]=a[u+0],e[4*(c+h*l)+2]=a[u+0],e[4*(c+h*l)+3]=a[u+1]}(e,i,c,g,o,a,m,r);break;default:console.error("THREE.TGALoader: Format not supported.")}else switch(y.pixel_size){case 8:!function(e,t,n,r,s,o,i,a,c){const l=c;let u,h,p,f=0;const d=y.width;for(p=t;p!==r;p+=n)for(h=s;h!==i;h+=o,f++)u=a[f],e[4*(h+d*p)+3]=255,e[4*(h+d*p)+2]=l[3*u+0],e[4*(h+d*p)+1]=l[3*u+1],e[4*(h+d*p)+0]=l[3*u+2]}(e,i,c,g,o,a,m,r,s);break;case 16:!function(e,t,n,r,s,o,i,a){let c,l,u,h=0;const p=y.width;for(u=t;u!==r;u+=n)for(l=s;l!==i;l+=o,h+=2)c=a[h+0]+(a[h+1]<<8),e[4*(l+p*u)+0]=(31744&c)>>7,e[4*(l+p*u)+1]=(992&c)>>2,e[4*(l+p*u)+2]=(31&c)<<3,e[4*(l+p*u)+3]=32768&c?0:255}(e,i,c,g,o,a,m,r);break;case 24:!function(e,t,n,r,s,o,i,a){let c,l,u=0;const h=y.width;for(l=t;l!==r;l+=n)for(c=s;c!==i;c+=o,u+=3)e[4*(c+h*l)+3]=255,e[4*(c+h*l)+2]=a[u+0],e[4*(c+h*l)+1]=a[u+1],e[4*(c+h*l)+0]=a[u+2]}(e,i,c,g,o,a,m,r);break;case 32:!function(e,t,n,r,s,o,i,a){let c,l,u=0;const h=y.width;for(l=t;l!==r;l+=n)for(c=s;c!==i;c+=o,u+=4)e[4*(c+h*l)+2]=a[u+0],e[4*(c+h*l)+1]=a[u+1],e[4*(c+h*l)+0]=a[u+2],e[4*(c+h*l)+3]=a[u+3]}(e,i,c,g,o,a,m,r);break;default:console.error("THREE.TGALoader: Format not supported.")}}(v,y.width,y.height,A.pixel_data,A.palettes),{data:v,width:y.width,height:y.height,flipY:!0,generateMipmaps:!0,minFilter:r.LinearMipmapLinearFilter}}}})),s.register("3iDF4",(function(t,n){e(t.exports,"URDFCollider",(()=>i)),e(t.exports,"URDFVisual",(()=>a)),e(t.exports,"URDFLink",(()=>c)),e(t.exports,"URDFJoint",(()=>l)),e(t.exports,"URDFMimicJoint",(()=>u)),e(t.exports,"URDFRobot",(()=>h));var r=s("ilwiq");class o extends r.Object3D{constructor(...e){super(...e),this.urdfNode=null,this.urdfName=""}copy(e,t){return super.copy(e,t),this.urdfNode=e.urdfNode,this.urdfName=e.urdfName,this}}class i extends o{constructor(...e){super(...e),this.isURDFCollider=!0,this.type="URDFCollider"}}class a extends o{constructor(...e){super(...e),this.isURDFVisual=!0,this.type="URDFVisual"}}class c extends o{constructor(...e){super(...e),this.isURDFLink=!0,this.type="URDFLink"}}class l extends o{get jointType(){return this._jointType}set jointType(e){if(this.jointType!==e)switch(this._jointType=e,this.matrixWorldNeedsUpdate=!0,e){case"fixed":this.jointValue=[];break;case"continuous":case"revolute":case"prismatic":this.jointValue=new Array(1).fill(0);break;case"planar":this.jointValue=new Array(2).fill(0);break;case"floating":this.jointValue=new Array(6).fill(0)}}get angle(){return this.jointValue[0]}constructor(...e){super(...e),this.isURDFJoint=!0,this.type="URDFJoint",this.jointValue=null,this.jointType="fixed",this.axis=null,this.limit={lower:0,upper:0},this.ignoreLimits=!1,this.origPosition=null,this.origQuaternion=null,this.mimicJoints=[]}copy(e,t){return super.copy(e,t),this.jointType=e.jointType,this.axis=e.axis?e.axis.clone():null,this.limit.lower=e.limit.lower,this.limit.upper=e.limit.upper,this.ignoreLimits=!1,this.jointValue=[...e.jointValue],this.origPosition=e.origPosition?e.origPosition.clone():null,this.origQuaternion=e.origQuaternion?e.origQuaternion.clone():null,this.mimicJoints=[...e.mimicJoints],this}setJointValue(...e){e=e.map((e=>parseFloat(e))),this.origPosition&&this.origQuaternion||(this.origPosition=this.position.clone(),this.origQuaternion=this.quaternion.clone());let t=!1;switch(this.mimicJoints.forEach((n=>{t=n.updateFromMimickedJoint(...e)||t})),this.jointType){case"fixed":return t;case"continuous":case"revolute":{let n=e[0];return null==n||n===this.jointValue[0]?t:(this.ignoreLimits||"revolute"!==this.jointType||(n=Math.min(this.limit.upper,n),n=Math.max(this.limit.lower,n)),this.quaternion.setFromAxisAngle(this.axis,n).premultiply(this.origQuaternion),this.jointValue[0]!==n?(this.jointValue[0]=n,this.matrixWorldNeedsUpdate=!0,!0):t)}case"prismatic":{let n=e[0];return null==n||n===this.jointValue[0]?t:(this.ignoreLimits||(n=Math.min(this.limit.upper,n),n=Math.max(this.limit.lower,n)),this.position.copy(this.origPosition),this.position.addScaledVector(this.axis,n),this.jointValue[0]!==n?(this.jointValue[0]=n,this.matrixWorldNeedsUpdate=!0,!0):t)}case"floating":case"planar":console.warn(`'${this.jointType}' joint not yet supported`)}return t}}class u extends l{constructor(...e){super(...e),this.type="URDFMimicJoint",this.mimicJoint=null,this.offset=0,this.multiplier=1}updateFromMimickedJoint(...e){const t=e.map((e=>e*this.multiplier+this.offset));return super.setJointValue(...t)}setJointValue(...e){return console.warn(`URDFMimicJoint: Setting the joint value of mimic joint "${this.urdfName}" will cause it to be out of sync.`),super.setJointValue(...e)}copy(e,t){return super.copy(e,t),this.mimicJoint=e.mimicJoint,this.offset=e.offset,this.multiplier=e.multiplier,this}}class h extends c{constructor(...e){super(...e),this.isURDFRobot=!0,this.urdfNode=null,this.urdfRobotNode=null,this.robotName=null,this.links=null,this.joints=null,this.colliders=null,this.visual=null,this.frames=null}copy(e,t){return super.copy(e,t),this.urdfRobotNode=e.urdfRobotNode,this.robotName=e.robotName,this.links={},this.joints={},this.colliders={},this.visual={},this.traverse((t=>{t.isURDFJoint&&t.urdfName in e.joints&&(this.joints[t.urdfName]=t),t.isURDFLink&&t.urdfName in e.links&&(this.links[t.urdfName]=t),t.isURDFCollider&&t.urdfName in e.colliders&&(this.colliders[t.urdfName]=t),t.isURDFVisual&&t.urdfName in e.visual&&(this.visual[t.urdfName]=t)})),this.frames={...this.colliders,...this.visual,...this.links,...this.joints},this}getFrame(e){return this.frames[e]}setJointValue(e,...t){const n=this.joints[e];return!!n&&n.setJointValue(...t)}setJointValues(e){let t=!1;for(const n in e){const r=e[n];t=Array.isArray(r)?this.setJointValue(n,...r)||t:this.setJointValue(n,r)||t}return t}}})),s.register("lOFtY",(function(t,n){e(t.exports,"XacroLoader",(()=>s("crxIg").XacroLoader));s("crxIg"),s("46e2R")})),s.register("crxIg",(function(t,n){e(t.exports,"XacroLoader",(()=>i));var r=s("dWajn"),o=s("46e2R");class i extends o.XacroParser{constructor(){super(),this.fetchOptions={}}load(e,t,n){const s=r.getUrlBase(e);""===this.workingPath&&(this.workingPath=s),this.getFileContents(e).then((e=>{this.parse(e,t,n)})).catch((e=>{n&&n(e)}))}parse(e,t,n){super.parse(e).then(t).catch((e=>{n&&n(e)}))}getFileContents(e){return fetch(e,this.fetchOptions).then((t=>{if(t.ok)return t.text();throw new Error(`XacroLoader: Failed to load url '${e}' with error code ${t.status} : ${t.statusText}.`)}))}}})),s.register("dWajn",(function(t,n){function r(e){const t=e.split(/[\\/]/g);return t.pop(),0===t.length?"./":t.join("/")+"/"}function s(e,t,n=[]){e.tagName===t&&n.push(e);for(let r=0,o=e.children.length;r<o;r++){s(e.children[r],t,n)}return n}function o(e,t){const n=e.cloneNode(),r=e.childNodes;for(let e=0,s=r.length;e<s;e++){const s=r[e],i=s.tagName;(!t||"xacro:property"!==i&&"xacro:macro"!==i)&&n.appendChild(o(s,t))}return n}function i(e){for(;e.length>0;){const t=e[e.length-1];if(t.nodeType===t.ELEMENT_NODE)break;e.pop()}}function a(e){return/^[()/*+\-%|&=[\]]+$/.test(e)}function c(e){return/^(('[^']*?')|("[^"]*?")|(`[^`]*?`))$/.test(e)}function l(e){return!isNaN(parseFloat(e))&&!/[^0-9.eE-]/.test(e)}function u(e){return e.replace(/(('[^']*?')|("[^"]*?")|(`[^`]*?`)|([()/*+\-%|&=[\]]+))/g,(e=>` ${e} `)).trim().split(/\s+/g)}function h(e){return e.replace(/[-+]{2,}/,(e=>{let t=!0;for(let n=0,r=e.length;n<r;n++){"-"===e[n]&&(t=!t)}return t?"+":"-"}))}e(t.exports,"getUrlBase",(()=>r)),e(t.exports,"getElementsWithName",(()=>s)),e(t.exports,"deepClone",(()=>o)),e(t.exports,"removeEndCommentsFromArray",(()=>i)),e(t.exports,"isOperator",(()=>a)),e(t.exports,"isString",(()=>c)),e(t.exports,"isNumber",(()=>l)),e(t.exports,"tokenize",(()=>u)),e(t.exports,"normalizeExpression",(()=>h)),e(t.exports,"PARENT_SCOPE",(()=>p)),e(t.exports,"mergePropertySets",(()=>f)),e(t.exports,"createNewPropertyScope",(()=>d));const p=Symbol("parent");function f(...e){const t={};for(let n=0,r=e.length;n<r;n++){const r=e[n];for(const e in r)t[e]=r[e];p in r&&(t[p]=r[p])}return t}function d(e){const t=f(e);return t[p]=e,t}})),s.register("46e2R",(function(t,n){e(t.exports,"XacroParser",(()=>i));var r=s("dWajn"),o=s("5NdfP");class i{constructor(){this.inOrder=!0,this.requirePrefix=!0,this.localProperties=!0,this.rospackCommands={},this.workingPath=""}async getFileContents(e){throw new Error("XacroParser: getFileContents() not implemented.")}async parse(e){function t(e,t,n=!1){const s=[],o=r.mergePropertySets(g,t);try{let t=function e(t,n){return"number"==typeof t?t:t.replace(/(\$?\$\([^)]+\))|(\$?\${[^}]+})/g,(t=>{if(/^\$\$/.test(t))return t;const o=/^\$\(/.test(t);let i=t.substring(2,t.length-1);if(i=e(i,n),!o){if(s.includes(i))throw new Error(`XacroParser: Cannot evaluate infinitely recursive expression: ${s.join(" > ")} > ${i}`);s.push(i);const t=/(()|()|()|[()/*+\-%|&=[\]])+/g,o=r.tokenize(i).map((s=>{if(t.lastIndex=0,r.isOperator(s))return s;if(r.isNumber(s))return s;if(r.isString(s))return s;if(s in n){const t=e(n[s],n);return r.isNumber(t)?t:`"${t.toString().replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`}return s})).join("");if(s.pop(),r.isString(o))return o.substring(1,o.length-1);if(r.isNumber(o))return o;{const e=r.normalizeExpression(o);return b(e)}}{const t=e(i,n).split(/\s+/g),r=t.shift();try{return y(r,...t)}catch(e){throw new Error(`XacroParser: Cannot run rospack command "${i}".\n`+e.message)}}}))}(e,o);return n&&(t=t.replace(/\${2}([({])/g,((e,t)=>`$${t}`))),t}catch(t){throw new Error(`XacroParser: Failed to process expression "${e}". \n`+t.message)}}function n(e){const t=e.getAttribute("name").replace(/^xacro:/,""),n=e.getAttribute("params"),s={};if(n){const e=n.trim().split(/\s+/g).map((e=>function(e){const t={};if(/^\*\*/.test(e)?t.type="MULTI_BLOCK":/^\*/.test(e)?t.type="BLOCK":t.type="PARAM",e=e.replace(/^\*{1,2}/g,""),/:=/.test(e)){const[n,r]=e.split(":=");if(/^\^/.test(r)||/\|/.test(r))throw new Error(`XacroParser: ROS Jade pass-through notation not supported in macro defaults: ${r}`);t.name=n,t.def=r}else t.name=e,t.def=null;return t}(e)));e.forEach((e=>{s[e.name]=e}))}return{name:t,node:r.deepClone(e,!1),params:s}}async function s(e,o,i,c=[]){if(e.nodeType!==e.ELEMENT_NODE){const n=e.cloneNode();return n.textContent=t(n.textContent,o,!0),void c.push(n)}let l=e.tagName.toLowerCase();if(!p)switch(l){case"arg":case"property":case"macro":case"insert_block":case"if":case"unless":case"include":case"element":case"attribute":l=`xacro:${l}`;break;default:l in i&&(l=`xacro:${l}`)}switch(l){case"xacro:property":{r.removeEndCommentsFromArray(c);const n=e.getAttribute("name");let s;if(e.hasAttribute("value"))s=e.getAttribute("value");else if(e.hasAttribute("default"))s=e.getAttribute("default");else{const t=[...e.childNodes];s=[];for(const e of t)s.push(r.deepClone(e,!1))}let i="global";w&&(i=e.getAttribute("scope")||"local"),"local"!==i&&(s=t(s,o)),"global"===i?g[n]=s:"parent"===i?o[r.PARENT_SCOPE][n]=s:o[n]=s;break}case"xacro:macro":{r.removeEndCommentsFromArray(c);const t=n(e);i[t.name]=t;break}case"xacro:insert_block":{r.removeEndCommentsFromArray(c);const t=o[e.getAttribute("name")];for(const e of t)await s(e,o,i,c);return}case"xacro:if":case"xacro:unless":{r.removeEndCommentsFromArray(c);const n=t(e.getAttribute("value"),o,!0);let a=null;if(a=isNaN(parseFloat(n))?"true"===n||"false"===n?"true"===n:n:!!parseFloat(n),"xacro:unless"===l&&(a=!a),a){const t=[...e.childNodes];for(const e of t)await s(e,o,i,c)}return}case"xacro:include":{if(r.removeEndCommentsFromArray(c),e.hasAttribute("ns"))throw new Error("XacroParser: xacro:include name spaces not supported.");const n=t(e.getAttribute("filename"),o,!0),l=/^[/\\]/.test(n)||/^[a-zA-Z]+:[/\\]/.test(n)?n:x+n,u=x;x=r.getUrlBase(l);const h=[...(await a(l)).children[0].childNodes];for(const e of h)await s(e,o,i,c);return void(x=u)}case"xacro:arg":case"xacro:attribute":case"xacro:element":throw new Error(`XacroParser: ${l} tags not supported.`);default:if(/^xacro:/.test(l)||l in i)return r.removeEndCommentsFromArray(c),async function(e,n,o,i){const a=e.tagName.replace(/^xacro:/,""),c=o[a];if(!c)throw new Error(`XacroParser: Cannot find macro "${a}"`);const l=n,u=o;n=r.createNewPropertyScope(n),o=r.mergePropertySets(o);let h=[];for(const t of e.children)await s(t,l,u,h);h=h.filter((e=>e.nodeType===e.ELEMENT_NODE));let p=0;for(const r in c.params){const s=c.params[r];e.hasAttribute(r)?n[r]=t(e.getAttribute(r),l):"BLOCK"===s.type?(n[r]=[h[p]],p++):"MULTI_BLOCK"===s.type?n[r]=[...h.filter((e=>e.tagName===r))[0].childNodes]:n[r]=t(c.params[r].def,l)}const f=[...c.node.childNodes];for(const e of f){const t=[];await s(e,n,o,t),i.push(...t)}}(e,o,i,c);{const n=e.cloneNode();for(let e=0,r=n.attributes.length;e<r;e++){const r=n.attributes[e],s=t(r.value,o,!0);n.setAttribute(r.name,s)}const r=[...e.childNodes],a=[];for(let e=0,t=r.length;e<t;e++)await s(r[e],o,i,a);a.forEach((e=>n.appendChild(e))),c.push(n)}}}async function i(e,t,n){const o=r.getElementsWithName(e,"xacro:property");p||o.push(...r.getElementsWithName(e,"property"));for(const e of o)await s(e,t,n);const i=r.getElementsWithName(e,"xacro:macro");p||i.push(...r.getElementsWithName(e,"macro"));for(const e of i)await s(e,t,n)}async function a(e){try{const t=await l.getFileContents(e);return(new DOMParser).parseFromString(t,"text/xml")}catch(t){throw new Error(`XacroParser: Could not load included file: ${e}`)}}async function c(e,t,n=[]){const s=r.getElementsWithName(e,"xacro:include");p||s.push(...r.getElementsWithName(e,"include"));const o=s.map((e=>{if(e.hasAttribute("ns"))throw new Error("XacroParser: xacro:include name spaces not supported.");const s=e.getAttribute("filename"),o=e.getAttribute("ns")||null,i=/^[/\\]/.test(s)||/^[a-zA-Z]+:[/\\]/.test(s)?s:t+s;return a(i).then((e=>{n.push({filename:s,namespace:o,content:e});return c(e,r.getUrlBase(i),n)}))}));return await Promise.all(o),n}const l=this,u=this.inOrder,h=this.workingPath+(this.workingPath&&!/[\\/]$/.test(this.workingPath)?"/":""),p=this.requirePrefix,f=this.rospackCommands,d={},m={},g={True:1,False:0};g[r.PARENT_SCOPE]=g;const y=(e,...t)=>f instanceof Function?f(e,...t):f[e](...t),b=o.evaluateExpression;let w=this.localProperties,x=h,v=(new DOMParser).parseFromString(e,"text/xml");w&&!u&&(console.warn('XacroParser: Implicitly setting "localProperties" option to false because "inOrder" is false.'),w=!1);let A=null;return A=u?Promise.resolve():async function(){return await i(v,g,d),v=r.deepClone(v,!0),c(v,h).then((e=>{e.forEach((e=>{i(e.content,g,d),e.content=r.deepClone(e.content,!0),m[e.filename]=e.content}))}))}(),await A,async function(e,t,n){const r=e.cloneNode();for(let o=0,i=e.children.length;o<i;o++){const i=[];await s(e.children[o],t,n,i);const a=i[0];a.removeAttribute("xmlns:xacro"),r.appendChild(a)}return r}(v,g,d)}}})),s.register("5NdfP",(function(t,n){e(t.exports,"evaluateExpression",(()=>i));var r=s("dWajn");const o=new(s("78epA").Parser);function i(e){return o.evaluate(e)}o.unaryOps={"-":o.unaryOps["-"],"+":o.unaryOps["+"],"!":o.unaryOps["!"]},o.functions={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,log:Math.log,atan2:Math.atan2,pow:Math.pow,radians:e=>e*(Math.PI/180),degrees:e=>e*(180/Math.PI)},o.binaryOps={...o.binaryOps,"+":(e,t)=>(r.isNumber(e)&&(e=Number(e)),r.isNumber(t)&&(t=Number(t)),e+t),in:(e,t)=>Array.isArray(t)||"string"==typeof t?t.includes(e):e in t},o.consts={...o.consts,pi:Math.PI,e:Math.E}})),s.register("78epA",(function(t,n){e(t.exports,"Parser",(()=>qe));var r="INUMBER",s="IOP1",o="IOP2",i="IOP3",a="IVAR",c="IVARNAME",l="IFUNCALL",u="IFUNDEF",h="IEXPR",p="IEXPREVAL",f="IMEMBER",d="IENDSTATEMENT",m="IARRAY";function g(e,t){this.type=e,this.value=null!=t?t:0}function y(e){return new g(s,e)}function b(e){return new g(o,e)}function w(e){return new g(i,e)}function x(e,t,n,l,u){for(var p,d,y,b,w=[],v=[],A=0;A<e.length;A++){var N=e[A],k=N.type;if(k===r||k===c)Array.isArray(N.value)?w.push.apply(w,x(N.value.map((function(e){return new g(r,e)})).concat(new g(m,N.value.length)),t,n,l,u)):w.push(N);else if(k===a&&u.hasOwnProperty(N.value))N=new g(r,u[N.value]),w.push(N);else if(k===o&&w.length>1)d=w.pop(),p=w.pop(),b=n[N.value],N=new g(r,b(p.value,d.value)),w.push(N);else if(k===i&&w.length>2)y=w.pop(),d=w.pop(),p=w.pop(),"?"===N.value?w.push(p.value?d.value:y.value):(b=l[N.value],N=new g(r,b(p.value,d.value,y.value)),w.push(N));else if(k===s&&w.length>0)p=w.pop(),b=t[N.value],N=new g(r,b(p.value)),w.push(N);else if(k===h){for(;w.length>0;)v.push(w.shift());v.push(new g(h,x(N.value,t,n,l,u)))}else if(k===f&&w.length>0)p=w.pop(),w.push(new g(r,p.value[N.value]));else{for(;w.length>0;)v.push(w.shift());v.push(N)}}for(;w.length>0;)v.push(w.shift());return v}function v(e,t,n){for(var r=[],c=0;c<e.length;c++){var l=e[c],u=l.type;if(u===a&&l.value===t)for(var p=0;p<n.tokens.length;p++){var f,d=n.tokens[p];f=d.type===s?y(d.value):d.type===o?b(d.value):d.type===i?w(d.value):new g(d.type,d.value),r.push(f)}else u===h?r.push(new g(h,v(l.value,t,n))):r.push(l)}return r}function A(e,t,n){var g,y,b,w,x,v,T=[];if(k(e))return E(e,n);for(var M=e.length,C=0;C<M;C++){var _=e[C],R=_.type;if(R===r||R===c)T.push(_.value);else if(R===o)y=T.pop(),g=T.pop(),"and"===_.value?T.push(!!g&&!!A(y,t,n)):"or"===_.value?T.push(!!g||!!A(y,t,n)):"="===_.value?(w=t.binaryOps[_.value],T.push(w(g,A(y,t,n),n))):(w=t.binaryOps[_.value],T.push(w(E(g,n),E(y,n))));else if(R===i)b=T.pop(),y=T.pop(),g=T.pop(),"?"===_.value?T.push(A(g?y:b,t,n)):(w=t.ternaryOps[_.value],T.push(w(E(g,n),E(y,n),E(b,n))));else if(R===a)if(_.value in t.functions)T.push(t.functions[_.value]);else if(_.value in t.unaryOps&&t.parser.isOperatorEnabled(_.value))T.push(t.unaryOps[_.value]);else{var F=n[_.value];if(void 0===F)throw new Error("undefined variable: "+_.value);T.push(F)}else if(R===s)g=T.pop(),w=t.unaryOps[_.value],T.push(w(E(g,n)));else if(R===l){for(v=_.value,x=[];v-- >0;)x.unshift(E(T.pop(),n));if(!(w=T.pop()).apply||!w.call)throw new Error(w+" is not a function");T.push(w.apply(void 0,x))}else if(R===u)T.push(function(){for(var e=T.pop(),r=[],s=_.value;s-- >0;)r.unshift(T.pop());var o=T.pop(),i=function(){for(var s=Object.assign({},n),o=0,i=r.length;o<i;o++)s[r[o]]=arguments[o];return A(e,t,s)};return Object.defineProperty(i,"name",{value:o,writable:!1}),n[o]=i,i}());else if(R===h)T.push(N(_,t));else if(R===p)T.push(_);else if(R===f)g=T.pop(),T.push(g[_.value]);else if(R===d)T.pop();else{if(R!==m)throw new Error("invalid Expression");for(v=_.value,x=[];v-- >0;)x.unshift(T.pop());T.push(x)}}if(T.length>1)throw new Error("invalid Expression (parity)");return 0===T[0]?0:E(T[0],n)}function N(e,t,n){return k(e)?e:{type:p,value:function(n){return A(e.value,t,n)}}}function k(e){return e&&e.type===p}function E(e,t){return k(e)?e.value(t):e}function T(e,t){for(var n,p,g,y,b,w,x=[],v=0;v<e.length;v++){var A=e[v],N=A.type;if(N===r)"number"==typeof A.value&&A.value<0?x.push("("+A.value+")"):Array.isArray(A.value)?x.push("["+A.value.map(M).join(", ")+"]"):x.push(M(A.value));else if(N===o)p=x.pop(),n=x.pop(),y=A.value,t?"^"===y?x.push("Math.pow("+n+", "+p+")"):"and"===y?x.push("(!!"+n+" && !!"+p+")"):"or"===y?x.push("(!!"+n+" || !!"+p+")"):"||"===y?x.push("(function(a,b){ return Array.isArray(a) && Array.isArray(b) ? a.concat(b) : String(a) + String(b); }(("+n+"),("+p+")))"):"=="===y?x.push("("+n+" === "+p+")"):"!="===y?x.push("("+n+" !== "+p+")"):"["===y?x.push(n+"[("+p+") | 0]"):x.push("("+n+" "+y+" "+p+")"):"["===y?x.push(n+"["+p+"]"):x.push("("+n+" "+y+" "+p+")");else if(N===i){if(g=x.pop(),p=x.pop(),n=x.pop(),"?"!==(y=A.value))throw new Error("invalid Expression");x.push("("+n+" ? "+p+" : "+g+")")}else if(N===a||N===c)x.push(A.value);else if(N===s)n=x.pop(),"-"===(y=A.value)||"+"===y?x.push("("+y+n+")"):t?"not"===y?x.push("(!"+n+")"):"!"===y?x.push("fac("+n+")"):x.push(y+"("+n+")"):"!"===y?x.push("("+n+"!)"):x.push("("+y+" "+n+")");else if(N===l){for(w=A.value,b=[];w-- >0;)b.unshift(x.pop());y=x.pop(),x.push(y+"("+b.join(", ")+")")}else if(N===u){for(p=x.pop(),w=A.value,b=[];w-- >0;)b.unshift(x.pop());n=x.pop(),t?x.push("("+n+" = function("+b.join(", ")+") { return "+p+" })"):x.push("("+n+"("+b.join(", ")+") = "+p+")")}else if(N===f)n=x.pop(),x.push(n+"."+A.value);else if(N===m){for(w=A.value,b=[];w-- >0;)b.unshift(x.pop());x.push("["+b.join(", ")+"]")}else if(N===h)x.push("("+T(A.value,t)+")");else if(N!==d)throw new Error("invalid Expression")}return x.length>1&&(x=t?[x.join(",")]:[x.join(";")]),String(x[0])}function M(e){return"string"==typeof e?JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029"):e}function C(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return!0;return!1}function _(e,t,n){for(var r=!!(n=n||{}).withMembers,s=null,o=0;o<e.length;o++){var i=e[o];i.type===a||i.type===c?r||C(t,i.value)?null!==s?(C(t,s)||t.push(s),s=i.value):s=i.value:t.push(i.value):i.type===f&&r&&null!==s?s+="."+i.value:i.type===h?_(i.value,t,n):null!==s&&(C(t,s)||t.push(s),s=null)}null===s||C(t,s)||t.push(s)}function R(e,t){this.tokens=e,this.parser=t,this.unaryOps=t.unaryOps,this.binaryOps=t.binaryOps,this.ternaryOps=t.ternaryOps,this.functions=t.functions}g.prototype.toString=function(){switch(this.type){case r:case s:case o:case i:case a:case c:case d:return this.value;case l:return"CALL "+this.value;case u:return"DEF "+this.value;case m:return"ARRAY "+this.value;case f:return"."+this.value;default:return"Invalid Instruction"}},R.prototype.simplify=function(e){return e=e||{},new R(x(this.tokens,this.unaryOps,this.binaryOps,this.ternaryOps,e),this.parser)},R.prototype.substitute=function(e,t){return t instanceof R||(t=this.parser.parse(String(t))),new R(v(this.tokens,e,t),this.parser)},R.prototype.evaluate=function(e){return e=e||{},A(this.tokens,this,e)},R.prototype.toString=function(){return T(this.tokens,!1)},R.prototype.symbols=function(e){e=e||{};var t=[];return _(this.tokens,t,e),t},R.prototype.variables=function(e){e=e||{};var t=[];_(this.tokens,t,e);var n=this.functions;return t.filter((function(e){return!(e in n)}))},R.prototype.toJSFunction=function(e,t){var n=this,r=new Function(e,"with(this.functions) with (this.ternaryOps) with (this.binaryOps) with (this.unaryOps) { return "+T(this.simplify(t).tokens,!0)+"; }");return function(){return r.apply(n,arguments)}};var F="TEOF",L="TOP",O="TNUMBER",j="TSTRING",P="TPAREN",U="TBRACKET",S="TCOMMA",I="TNAME",D="TSEMICOLON";function V(e,t,n){this.type=e,this.value=t,this.index=n}function q(e,t){this.pos=0,this.current=null,this.unaryOps=e.unaryOps,this.binaryOps=e.binaryOps,this.ternaryOps=e.ternaryOps,this.consts=e.consts,this.expression=t,this.savedPosition=0,this.savedCurrent=null,this.options=e.options,this.parser=e}V.prototype.toString=function(){return this.type+": "+this.value},q.prototype.newToken=function(e,t,n){return new V(e,t,null!=n?n:this.pos)},q.prototype.save=function(){this.savedPosition=this.pos,this.savedCurrent=this.current},q.prototype.restore=function(){this.pos=this.savedPosition,this.current=this.savedCurrent},q.prototype.next=function(){return this.pos>=this.expression.length?this.newToken(F,"EOF"):this.isWhitespace()||this.isComment()?this.next():this.isRadixInteger()||this.isNumber()||this.isOperator()||this.isString()||this.isParen()||this.isBracket()||this.isComma()||this.isSemicolon()||this.isNamedOp()||this.isConst()||this.isName()?this.current:void this.parseError('Unknown character "'+this.expression.charAt(this.pos)+'"')},q.prototype.isString=function(){var e=!1,t=this.pos,n=this.expression.charAt(t);if("'"===n||'"'===n)for(var r=this.expression.indexOf(n,t+1);r>=0&&this.pos<this.expression.length;){if(this.pos=r+1,"\\"!==this.expression.charAt(r-1)){var s=this.expression.substring(t+1,r);this.current=this.newToken(j,this.unescape(s),t),e=!0;break}r=this.expression.indexOf(n,r+1)}return e},q.prototype.isParen=function(){var e=this.expression.charAt(this.pos);return("("===e||")"===e)&&(this.current=this.newToken(P,e),this.pos++,!0)},q.prototype.isBracket=function(){var e=this.expression.charAt(this.pos);return!("["!==e&&"]"!==e||!this.isOperatorEnabled("["))&&(this.current=this.newToken(U,e),this.pos++,!0)},q.prototype.isComma=function(){return","===this.expression.charAt(this.pos)&&(this.current=this.newToken(S,","),this.pos++,!0)},q.prototype.isSemicolon=function(){return";"===this.expression.charAt(this.pos)&&(this.current=this.newToken(D,";"),this.pos++,!0)},q.prototype.isConst=function(){for(var e=this.pos,t=e;t<this.expression.length;t++){var n=this.expression.charAt(t);if(n.toUpperCase()===n.toLowerCase()&&(t===this.pos||"_"!==n&&"."!==n&&(n<"0"||n>"9")))break}if(t>e){var r=this.expression.substring(e,t);if(r in this.consts)return this.current=this.newToken(O,this.consts[r]),this.pos+=r.length,!0}return!1},q.prototype.isNamedOp=function(){for(var e=this.pos,t=e;t<this.expression.length;t++){var n=this.expression.charAt(t);if(n.toUpperCase()===n.toLowerCase()&&(t===this.pos||"_"!==n&&(n<"0"||n>"9")))break}if(t>e){var r=this.expression.substring(e,t);if(this.isOperatorEnabled(r)&&(r in this.binaryOps||r in this.unaryOps||r in this.ternaryOps))return this.current=this.newToken(L,r),this.pos+=r.length,!0}return!1},q.prototype.isName=function(){for(var e=this.pos,t=e,n=!1;t<this.expression.length;t++){var r=this.expression.charAt(t);if(r.toUpperCase()===r.toLowerCase()){if(t===this.pos&&("$"===r||"_"===r)){"_"===r&&(n=!0);continue}if(t===this.pos||!n||"_"!==r&&(r<"0"||r>"9"))break}else n=!0}if(n){var s=this.expression.substring(e,t);return this.current=this.newToken(I,s),this.pos+=s.length,!0}return!1},q.prototype.isWhitespace=function(){for(var e=!1,t=this.expression.charAt(this.pos);!(" "!==t&&"\t"!==t&&"\n"!==t&&"\r"!==t||(e=!0,this.pos++,this.pos>=this.expression.length));)t=this.expression.charAt(this.pos);return e};var J=/^[0-9a-f]{4}$/i;function B(e,t,n){this.parser=e,this.tokens=t,this.current=null,this.nextToken=null,this.next(),this.savedCurrent=null,this.savedNextToken=null,this.allowMemberAccess=!1!==n.allowMemberAccess}q.prototype.unescape=function(e){var t=e.indexOf("\\");if(t<0)return e;for(var n=e.substring(0,t);t>=0;){var r=e.charAt(++t);switch(r){case"'":n+="'";break;case'"':n+='"';break;case"\\":n+="\\";break;case"/":n+="/";break;case"b":n+="\b";break;case"f":n+="\f";break;case"n":n+="\n";break;case"r":n+="\r";break;case"t":n+="\t";break;case"u":var s=e.substring(t+1,t+5);J.test(s)||this.parseError("Illegal escape sequence: \\u"+s),n+=String.fromCharCode(parseInt(s,16)),t+=4;break;default:throw this.parseError('Illegal escape sequence: "\\'+r+'"')}++t;var o=e.indexOf("\\",t);n+=e.substring(t,o<0?e.length:o),t=o}return n},q.prototype.isComment=function(){return"/"===this.expression.charAt(this.pos)&&"*"===this.expression.charAt(this.pos+1)&&(this.pos=this.expression.indexOf("*/",this.pos)+2,1===this.pos&&(this.pos=this.expression.length),!0)},q.prototype.isRadixInteger=function(){var e,t,n=this.pos;if(n>=this.expression.length-2||"0"!==this.expression.charAt(n))return!1;if(++n,"x"===this.expression.charAt(n))e=16,t=/^[0-9a-f]$/i,++n;else{if("b"!==this.expression.charAt(n))return!1;e=2,t=/^[01]$/i,++n}for(var r=!1,s=n;n<this.expression.length;){var o=this.expression.charAt(n);if(!t.test(o))break;n++,r=!0}return r&&(this.current=this.newToken(O,parseInt(this.expression.substring(s,n),e)),this.pos=n),r},q.prototype.isNumber=function(){for(var e,t=!1,n=this.pos,r=n,s=n,o=!1,i=!1;n<this.expression.length&&((e=this.expression.charAt(n))>="0"&&e<="9"||!o&&"."===e);)"."===e?o=!0:i=!0,n++,t=i;if(t&&(s=n),"e"===e||"E"===e){n++;for(var a=!0,c=!1;n<this.expression.length;){if(e=this.expression.charAt(n),!a||"+"!==e&&"-"!==e){if(!(e>="0"&&e<="9"))break;c=!0,a=!1}else a=!1;n++}c||(n=s)}return t?(this.current=this.newToken(O,parseFloat(this.expression.substring(r,n))),this.pos=n):this.pos=s,t},q.prototype.isOperator=function(){var e=this.pos,t=this.expression.charAt(this.pos);if("+"===t||"-"===t||"*"===t||"/"===t||"%"===t||"^"===t||"?"===t||":"===t||"."===t)this.current=this.newToken(L,t);else if(""===t||""===t)this.current=this.newToken(L,"*");else if(">"===t)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(L,">="),this.pos++):this.current=this.newToken(L,">");else if("<"===t)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(L,"<="),this.pos++):this.current=this.newToken(L,"<");else if("|"===t){if("|"!==this.expression.charAt(this.pos+1))return!1;this.current=this.newToken(L,"||"),this.pos++}else if("="===t)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(L,"=="),this.pos++):this.current=this.newToken(L,t);else{if("!"!==t)return!1;"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(L,"!="),this.pos++):this.current=this.newToken(L,t)}return this.pos++,!!this.isOperatorEnabled(this.current.value)||(this.pos=e,!1)},q.prototype.isOperatorEnabled=function(e){return this.parser.isOperatorEnabled(e)},q.prototype.getCoordinates=function(){var e,t=0,n=-1;do{t++,e=this.pos-n,n=this.expression.indexOf("\n",n+1)}while(n>=0&&n<this.pos);return{line:t,column:e}},q.prototype.parseError=function(e){var t=this.getCoordinates();throw new Error("parse error ["+t.line+":"+t.column+"]: "+e)},B.prototype.next=function(){return this.current=this.nextToken,this.nextToken=this.tokens.next()},B.prototype.tokenMatches=function(e,t){return void 0===t||(Array.isArray(t)?C(t,e.value):"function"==typeof t?t(e):e.value===t)},B.prototype.save=function(){this.savedCurrent=this.current,this.savedNextToken=this.nextToken,this.tokens.save()},B.prototype.restore=function(){this.tokens.restore(),this.current=this.savedCurrent,this.nextToken=this.savedNextToken},B.prototype.accept=function(e,t){return!(this.nextToken.type!==e||!this.tokenMatches(this.nextToken,t))&&(this.next(),!0)},B.prototype.expect=function(e,t){if(!this.accept(e,t)){var n=this.tokens.getCoordinates();throw new Error("parse error ["+n.line+":"+n.column+"]: Expected "+(t||e))}},B.prototype.parseAtom=function(e){var t=this.tokens.unaryOps;if(this.accept(I)||this.accept(L,(function(e){return e.value in t})))e.push(new g(a,this.current.value));else if(this.accept(O))e.push(new g(r,this.current.value));else if(this.accept(j))e.push(new g(r,this.current.value));else if(this.accept(P,"("))this.parseExpression(e),this.expect(P,")");else{if(!this.accept(U,"["))throw new Error("unexpected "+this.nextToken);if(this.accept(U,"]"))e.push(new g(m,0));else{var n=this.parseArrayList(e);e.push(new g(m,n))}}},B.prototype.parseExpression=function(e){var t=[];this.parseUntilEndStatement(e,t)||(this.parseVariableAssignmentExpression(t),this.parseUntilEndStatement(e,t)||this.pushExpression(e,t))},B.prototype.pushExpression=function(e,t){for(var n=0,r=t.length;n<r;n++)e.push(t[n])},B.prototype.parseUntilEndStatement=function(e,t){return!!this.accept(D)&&(!this.nextToken||this.nextToken.type===F||this.nextToken.type===P&&")"===this.nextToken.value||t.push(new g(d)),this.nextToken.type!==F&&this.parseExpression(t),e.push(new g(h,t)),!0)},B.prototype.parseArrayList=function(e){for(var t=0;!this.accept(U,"]");)for(this.parseExpression(e),++t;this.accept(S);)this.parseExpression(e),++t;return t},B.prototype.parseVariableAssignmentExpression=function(e){for(this.parseConditionalExpression(e);this.accept(L,"=");){var t=e.pop(),n=[],r=e.length-1;if(t.type!==l){if(t.type!==a&&t.type!==f)throw new Error("expected variable for assignment");this.parseVariableAssignmentExpression(n),e.push(new g(c,t.value)),e.push(new g(h,n)),e.push(b("="))}else{if(!this.tokens.isOperatorEnabled("()="))throw new Error("function definition is not permitted");for(var s=0,o=t.value+1;s<o;s++){var i=r-s;e[i].type===a&&(e[i]=new g(c,e[i].value))}this.parseVariableAssignmentExpression(n),e.push(new g(h,n)),e.push(new g(u,t.value))}}},B.prototype.parseConditionalExpression=function(e){for(this.parseOrExpression(e);this.accept(L,"?");){var t=[],n=[];this.parseConditionalExpression(t),this.expect(L,":"),this.parseConditionalExpression(n),e.push(new g(h,t)),e.push(new g(h,n)),e.push(w("?"))}},B.prototype.parseOrExpression=function(e){for(this.parseAndExpression(e);this.accept(L,"or");){var t=[];this.parseAndExpression(t),e.push(new g(h,t)),e.push(b("or"))}},B.prototype.parseAndExpression=function(e){for(this.parseComparison(e);this.accept(L,"and");){var t=[];this.parseComparison(t),e.push(new g(h,t)),e.push(b("and"))}};var G=["==","!=","<","<=",">=",">","in"];B.prototype.parseComparison=function(e){for(this.parseAddSub(e);this.accept(L,G);){var t=this.current;this.parseAddSub(e),e.push(b(t.value))}};var $=["+","-","||"];B.prototype.parseAddSub=function(e){for(this.parseTerm(e);this.accept(L,$);){var t=this.current;this.parseTerm(e),e.push(b(t.value))}};var W=["*","/","%"];function H(e,t){return Number(e)+Number(t)}function z(e,t){return e-t}function X(e,t){return e*t}function K(e,t){return e/t}function Q(e,t){return e%t}function Y(e,t){return Array.isArray(e)&&Array.isArray(t)?e.concat(t):""+e+t}function Z(e,t){return e===t}function ee(e,t){return e!==t}function te(e,t){return e>t}function ne(e,t){return e<t}function re(e,t){return e>=t}function se(e,t){return e<=t}function oe(e,t){return Boolean(e&&t)}function ie(e,t){return Boolean(e||t)}function ae(e,t){return C(t,e)}function ce(e){return(Math.exp(e)-Math.exp(-e))/2}function le(e){return(Math.exp(e)+Math.exp(-e))/2}function ue(e){return e===1/0?1:e===-1/0?-1:(Math.exp(e)-Math.exp(-e))/(Math.exp(e)+Math.exp(-e))}function he(e){return e===-1/0?e:Math.log(e+Math.sqrt(e*e+1))}function pe(e){return Math.log(e+Math.sqrt(e*e-1))}function fe(e){return Math.log((1+e)/(1-e))/2}function de(e){return Math.log(e)*Math.LOG10E}function me(e){return-e}function ge(e){return!e}function ye(e){return e<0?Math.ceil(e):Math.floor(e)}function be(e){return Math.random()*(e||1)}function we(e){return ve(e+1)}B.prototype.parseTerm=function(e){for(this.parseFactor(e);this.accept(L,W);){var t=this.current;this.parseFactor(e),e.push(b(t.value))}},B.prototype.parseFactor=function(e){var t=this.tokens.unaryOps;if(this.save(),this.accept(L,(function(e){return e.value in t}))){if("-"!==this.current.value&&"+"!==this.current.value){if(this.nextToken.type===P&&"("===this.nextToken.value)return this.restore(),void this.parseExponential(e);if(this.nextToken.type===D||this.nextToken.type===S||this.nextToken.type===F||this.nextToken.type===P&&")"===this.nextToken.value)return this.restore(),void this.parseAtom(e)}var n=this.current;this.parseFactor(e),e.push(y(n.value))}else this.parseExponential(e)},B.prototype.parseExponential=function(e){for(this.parsePostfixExpression(e);this.accept(L,"^");)this.parseFactor(e),e.push(b("^"))},B.prototype.parsePostfixExpression=function(e){for(this.parseFunctionCall(e);this.accept(L,"!");)e.push(y("!"))},B.prototype.parseFunctionCall=function(e){var t=this.tokens.unaryOps;if(this.accept(L,(function(e){return e.value in t}))){var n=this.current;this.parseAtom(e),e.push(y(n.value))}else for(this.parseMemberExpression(e);this.accept(P,"(");)if(this.accept(P,")"))e.push(new g(l,0));else{var r=this.parseArgumentList(e);e.push(new g(l,r))}},B.prototype.parseArgumentList=function(e){for(var t=0;!this.accept(P,")");)for(this.parseExpression(e),++t;this.accept(S);)this.parseExpression(e),++t;return t},B.prototype.parseMemberExpression=function(e){for(this.parseAtom(e);this.accept(L,".")||this.accept(U,"[");){var t=this.current;if("."===t.value){if(!this.allowMemberAccess)throw new Error('unexpected ".", member access is not permitted');this.expect(I),e.push(new g(f,this.current.value))}else{if("["!==t.value)throw new Error("unexpected symbol: "+t.value);if(!this.tokens.isOperatorEnabled("["))throw new Error('unexpected "[]", arrays are disabled');this.parseExpression(e),this.expect(U,"]"),e.push(b("["))}}};var xe=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];function ve(e){var t,n;if(function(e){return isFinite(e)&&e===Math.round(e)}(e)){if(e<=0)return isFinite(e)?1/0:NaN;if(e>171)return 1/0;for(var r=e-2,s=e-1;r>1;)s*=r,r--;return 0===s&&(s=1),s}if(e<.5)return Math.PI/(Math.sin(Math.PI*e)*ve(1-e));if(e>=171.35)return 1/0;if(e>85){var o=e*e,i=o*e,a=i*e,c=a*e;return Math.sqrt(2*Math.PI/e)*Math.pow(e/Math.E,e)*(1+1/(12*e)+1/(288*o)-139/(51840*i)-571/(2488320*a)+163879/(209018880*c)+5246819/(75246796800*c*e))}--e,n=xe[0];for(var l=1;l<xe.length;++l)n+=xe[l]/(e+l);return t=e+4.7421875+.5,Math.sqrt(2*Math.PI)*Math.pow(t,e+.5)*Math.exp(-t)*n}function Ae(e){return Array.isArray(e)?e.length:String(e).length}function Ne(){for(var e=0,t=0,n=0;n<arguments.length;n++){var r,s=Math.abs(arguments[n]);t<s?(e=e*(r=t/s)*r+1,t=s):e+=s>0?(r=s/t)*r:s}return t===1/0?1/0:t*Math.sqrt(e)}function ke(e,t,n){return e?t:n}function Ee(e,t){return void 0===t||0==+t?Math.round(e):(e=+e,t=-+t,isNaN(e)||"number"!=typeof t||t%1!=0?NaN:(e=e.toString().split("e"),+((e=(e=Math.round(+(e[0]+"e"+(e[1]?+e[1]-t:-t)))).toString().split("e"))[0]+"e"+(e[1]?+e[1]+t:t))))}function Te(e,t,n){return n&&(n[e]=t),t}function Me(e,t){return e[0|t]}function Ce(e){return 1===arguments.length&&Array.isArray(e)?Math.max.apply(Math,e):Math.max.apply(Math,arguments)}function _e(e){return 1===arguments.length&&Array.isArray(e)?Math.min.apply(Math,e):Math.min.apply(Math,arguments)}function Re(e,t){if("function"!=typeof e)throw new Error("First argument to map is not a function");if(!Array.isArray(t))throw new Error("Second argument to map is not an array");return t.map((function(t,n){return e(t,n)}))}function Fe(e,t,n){if("function"!=typeof e)throw new Error("First argument to fold is not a function");if(!Array.isArray(n))throw new Error("Second argument to fold is not an array");return n.reduce((function(t,n,r){return e(t,n,r)}),t)}function Le(e,t){if("function"!=typeof e)throw new Error("First argument to filter is not a function");if(!Array.isArray(t))throw new Error("Second argument to filter is not an array");return t.filter((function(t,n){return e(t,n)}))}function Oe(e,t){if(!Array.isArray(t)&&"string"!=typeof t)throw new Error("Second argument to indexOf is not a string or array");return t.indexOf(e)}function je(e,t){if(!Array.isArray(t))throw new Error("Second argument to join is not an array");return t.join(e)}function Pe(e){return(e>0)-(e<0)||+e}var Ue=1/3;function Se(e){return e<0?-Math.pow(-e,Ue):Math.pow(e,Ue)}function Ie(e){return Math.exp(e)-1}function De(e){return Math.log(1+e)}function Ve(e){return Math.log(e)/Math.LN2}function qe(e){this.options=e||{},this.unaryOps={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sinh:Math.sinh||ce,cosh:Math.cosh||le,tanh:Math.tanh||ue,asinh:Math.asinh||he,acosh:Math.acosh||pe,atanh:Math.atanh||fe,sqrt:Math.sqrt,cbrt:Math.cbrt||Se,log:Math.log,log2:Math.log2||Ve,ln:Math.log,lg:Math.log10||de,log10:Math.log10||de,expm1:Math.expm1||Ie,log1p:Math.log1p||De,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,trunc:Math.trunc||ye,"-":me,"+":Number,exp:Math.exp,not:ge,length:Ae,"!":we,sign:Math.sign||Pe},this.binaryOps={"+":H,"-":z,"*":X,"/":K,"%":Q,"^":Math.pow,"||":Y,"==":Z,"!=":ee,">":te,"<":ne,">=":re,"<=":se,and:oe,or:ie,in:ae,"=":Te,"[":Me},this.ternaryOps={"?":ke},this.functions={random:be,fac:we,min:_e,max:Ce,hypot:Math.hypot||Ne,pyt:Math.hypot||Ne,pow:Math.pow,atan2:Math.atan2,if:ke,gamma:ve,roundTo:Ee,map:Re,fold:Fe,filter:Le,indexOf:Oe,join:je},this.consts={E:Math.E,PI:Math.PI,true:!0,false:!1}}qe.prototype.parse=function(e){var t=[],n=new B(this,new q(this,e),{allowMemberAccess:this.options.allowMemberAccess});return n.parseExpression(t),n.expect(F,"EOF"),new R(t,this)},qe.prototype.evaluate=function(e,t){return this.parse(e).evaluate(t)};var Je=new qe;qe.parse=function(e){return Je.parse(e)},qe.evaluate=function(e,t){return Je.parse(e).evaluate(t)};var Be={"+":"add","-":"subtract","*":"multiply","/":"divide","%":"remainder","^":"power","!":"factorial","<":"comparison",">":"comparison","<=":"comparison",">=":"comparison","==":"comparison","!=":"comparison","||":"concatenate",and:"logical",or:"logical",not:"logical","?":"conditional",":":"conditional","=":"assignment","[":"array","()=":"fndef"};qe.prototype.isOperatorEnabled=function(e){var t=function(e){return Be.hasOwnProperty(e)?Be[e]:e}(e),n=this.options.operators||{};return!(t in n)||!!n[t]}}));
//# sourceMappingURL=index.3b69dfe7.js.map
